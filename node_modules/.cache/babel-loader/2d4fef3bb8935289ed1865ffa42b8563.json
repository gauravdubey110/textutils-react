{"ast":null,"code":"/*!***************************************************\n* mark.js v8.11.1\n* https://markjs.io/\n* Copyright (c) 2014–2018, Julian Kühnel\n* Released under the MIT license https://git.io/vwTVl\n*****************************************************/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.Mark = factory();\n})(this, function () {\n  'use strict';\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var DOMIterator = function () {\n    function DOMIterator(ctx) {\n      var iframes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var exclude = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var iframesTimeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5000;\n      classCallCheck(this, DOMIterator);\n      this.ctx = ctx;\n      this.iframes = iframes;\n      this.exclude = exclude;\n      this.iframesTimeout = iframesTimeout;\n    }\n\n    createClass(DOMIterator, [{\n      key: 'getContexts',\n      value: function getContexts() {\n        var ctx = void 0,\n            filteredCtx = [];\n\n        if (typeof this.ctx === 'undefined' || !this.ctx) {\n          ctx = [];\n        } else if (NodeList.prototype.isPrototypeOf(this.ctx)) {\n          ctx = Array.prototype.slice.call(this.ctx);\n        } else if (Array.isArray(this.ctx)) {\n          ctx = this.ctx;\n        } else if (typeof this.ctx === 'string') {\n          ctx = Array.prototype.slice.call(document.querySelectorAll(this.ctx));\n        } else {\n          ctx = [this.ctx];\n        }\n\n        ctx.forEach(function (ctx) {\n          var isDescendant = filteredCtx.filter(function (contexts) {\n            return contexts.contains(ctx);\n          }).length > 0;\n\n          if (filteredCtx.indexOf(ctx) === -1 && !isDescendant) {\n            filteredCtx.push(ctx);\n          }\n        });\n        return filteredCtx;\n      }\n    }, {\n      key: 'getIframeContents',\n      value: function getIframeContents(ifr, successFn) {\n        var errorFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n        var doc = void 0;\n\n        try {\n          var ifrWin = ifr.contentWindow;\n          doc = ifrWin.document;\n\n          if (!ifrWin || !doc) {\n            throw new Error('iframe inaccessible');\n          }\n        } catch (e) {\n          errorFn();\n        }\n\n        if (doc) {\n          successFn(doc);\n        }\n      }\n    }, {\n      key: 'isIframeBlank',\n      value: function isIframeBlank(ifr) {\n        var bl = 'about:blank',\n            src = ifr.getAttribute('src').trim(),\n            href = ifr.contentWindow.location.href;\n        return href === bl && src !== bl && src;\n      }\n    }, {\n      key: 'observeIframeLoad',\n      value: function observeIframeLoad(ifr, successFn, errorFn) {\n        var _this = this;\n\n        var called = false,\n            tout = null;\n\n        var listener = function listener() {\n          if (called) {\n            return;\n          }\n\n          called = true;\n          clearTimeout(tout);\n\n          try {\n            if (!_this.isIframeBlank(ifr)) {\n              ifr.removeEventListener('load', listener);\n\n              _this.getIframeContents(ifr, successFn, errorFn);\n            }\n          } catch (e) {\n            errorFn();\n          }\n        };\n\n        ifr.addEventListener('load', listener);\n        tout = setTimeout(listener, this.iframesTimeout);\n      }\n    }, {\n      key: 'onIframeReady',\n      value: function onIframeReady(ifr, successFn, errorFn) {\n        try {\n          if (ifr.contentWindow.document.readyState === 'complete') {\n            if (this.isIframeBlank(ifr)) {\n              this.observeIframeLoad(ifr, successFn, errorFn);\n            } else {\n              this.getIframeContents(ifr, successFn, errorFn);\n            }\n          } else {\n            this.observeIframeLoad(ifr, successFn, errorFn);\n          }\n        } catch (e) {\n          errorFn();\n        }\n      }\n    }, {\n      key: 'waitForIframes',\n      value: function waitForIframes(ctx, done) {\n        var _this2 = this;\n\n        var eachCalled = 0;\n        this.forEachIframe(ctx, function () {\n          return true;\n        }, function (ifr) {\n          eachCalled++;\n\n          _this2.waitForIframes(ifr.querySelector('html'), function () {\n            if (! --eachCalled) {\n              done();\n            }\n          });\n        }, function (handled) {\n          if (!handled) {\n            done();\n          }\n        });\n      }\n    }, {\n      key: 'forEachIframe',\n      value: function forEachIframe(ctx, filter, each) {\n        var _this3 = this;\n\n        var end = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n        var ifr = ctx.querySelectorAll('iframe'),\n            open = ifr.length,\n            handled = 0;\n        ifr = Array.prototype.slice.call(ifr);\n\n        var checkEnd = function checkEnd() {\n          if (--open <= 0) {\n            end(handled);\n          }\n        };\n\n        if (!open) {\n          checkEnd();\n        }\n\n        ifr.forEach(function (ifr) {\n          if (DOMIterator.matches(ifr, _this3.exclude)) {\n            checkEnd();\n          } else {\n            _this3.onIframeReady(ifr, function (con) {\n              if (filter(ifr)) {\n                handled++;\n                each(con);\n              }\n\n              checkEnd();\n            }, checkEnd);\n          }\n        });\n      }\n    }, {\n      key: 'createIterator',\n      value: function createIterator(ctx, whatToShow, filter) {\n        return document.createNodeIterator(ctx, whatToShow, filter, false);\n      }\n    }, {\n      key: 'createInstanceOnIframe',\n      value: function createInstanceOnIframe(contents) {\n        return new DOMIterator(contents.querySelector('html'), this.iframes);\n      }\n    }, {\n      key: 'compareNodeIframe',\n      value: function compareNodeIframe(node, prevNode, ifr) {\n        var compCurr = node.compareDocumentPosition(ifr),\n            prev = Node.DOCUMENT_POSITION_PRECEDING;\n\n        if (compCurr & prev) {\n          if (prevNode !== null) {\n            var compPrev = prevNode.compareDocumentPosition(ifr),\n                after = Node.DOCUMENT_POSITION_FOLLOWING;\n\n            if (compPrev & after) {\n              return true;\n            }\n          } else {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    }, {\n      key: 'getIteratorNode',\n      value: function getIteratorNode(itr) {\n        var prevNode = itr.previousNode();\n        var node = void 0;\n\n        if (prevNode === null) {\n          node = itr.nextNode();\n        } else {\n          node = itr.nextNode() && itr.nextNode();\n        }\n\n        return {\n          prevNode: prevNode,\n          node: node\n        };\n      }\n    }, {\n      key: 'checkIframeFilter',\n      value: function checkIframeFilter(node, prevNode, currIfr, ifr) {\n        var key = false,\n            handled = false;\n        ifr.forEach(function (ifrDict, i) {\n          if (ifrDict.val === currIfr) {\n            key = i;\n            handled = ifrDict.handled;\n          }\n        });\n\n        if (this.compareNodeIframe(node, prevNode, currIfr)) {\n          if (key === false && !handled) {\n            ifr.push({\n              val: currIfr,\n              handled: true\n            });\n          } else if (key !== false && !handled) {\n            ifr[key].handled = true;\n          }\n\n          return true;\n        }\n\n        if (key === false) {\n          ifr.push({\n            val: currIfr,\n            handled: false\n          });\n        }\n\n        return false;\n      }\n    }, {\n      key: 'handleOpenIframes',\n      value: function handleOpenIframes(ifr, whatToShow, eCb, fCb) {\n        var _this4 = this;\n\n        ifr.forEach(function (ifrDict) {\n          if (!ifrDict.handled) {\n            _this4.getIframeContents(ifrDict.val, function (con) {\n              _this4.createInstanceOnIframe(con).forEachNode(whatToShow, eCb, fCb);\n            });\n          }\n        });\n      }\n    }, {\n      key: 'iterateThroughNodes',\n      value: function iterateThroughNodes(whatToShow, ctx, eachCb, filterCb, doneCb) {\n        var _this5 = this;\n\n        var itr = this.createIterator(ctx, whatToShow, filterCb);\n\n        var ifr = [],\n            elements = [],\n            node = void 0,\n            prevNode = void 0,\n            retrieveNodes = function retrieveNodes() {\n          var _getIteratorNode = _this5.getIteratorNode(itr);\n\n          prevNode = _getIteratorNode.prevNode;\n          node = _getIteratorNode.node;\n          return node;\n        };\n\n        while (retrieveNodes()) {\n          if (this.iframes) {\n            this.forEachIframe(ctx, function (currIfr) {\n              return _this5.checkIframeFilter(node, prevNode, currIfr, ifr);\n            }, function (con) {\n              _this5.createInstanceOnIframe(con).forEachNode(whatToShow, function (ifrNode) {\n                return elements.push(ifrNode);\n              }, filterCb);\n            });\n          }\n\n          elements.push(node);\n        }\n\n        elements.forEach(function (node) {\n          eachCb(node);\n        });\n\n        if (this.iframes) {\n          this.handleOpenIframes(ifr, whatToShow, eachCb, filterCb);\n        }\n\n        doneCb();\n      }\n    }, {\n      key: 'forEachNode',\n      value: function forEachNode(whatToShow, each, filter) {\n        var _this6 = this;\n\n        var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n        var contexts = this.getContexts();\n        var open = contexts.length;\n\n        if (!open) {\n          done();\n        }\n\n        contexts.forEach(function (ctx) {\n          var ready = function ready() {\n            _this6.iterateThroughNodes(whatToShow, ctx, each, filter, function () {\n              if (--open <= 0) {\n                done();\n              }\n            });\n          };\n\n          if (_this6.iframes) {\n            _this6.waitForIframes(ctx, ready);\n          } else {\n            ready();\n          }\n        });\n      }\n    }], [{\n      key: 'matches',\n      value: function matches(element, selector) {\n        var selectors = typeof selector === 'string' ? [selector] : selector,\n            fn = element.matches || element.matchesSelector || element.msMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.webkitMatchesSelector;\n\n        if (fn) {\n          var match = false;\n          selectors.every(function (sel) {\n            if (fn.call(element, sel)) {\n              match = true;\n              return false;\n            }\n\n            return true;\n          });\n          return match;\n        } else {\n          return false;\n        }\n      }\n    }]);\n    return DOMIterator;\n  }();\n\n  var Mark$1 = function () {\n    function Mark(ctx) {\n      classCallCheck(this, Mark);\n      this.ctx = ctx;\n      this.ie = false;\n      var ua = window.navigator.userAgent;\n\n      if (ua.indexOf('MSIE') > -1 || ua.indexOf('Trident') > -1) {\n        this.ie = true;\n      }\n    }\n\n    createClass(Mark, [{\n      key: 'log',\n      value: function log(msg) {\n        var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'debug';\n        var log = this.opt.log;\n\n        if (!this.opt.debug) {\n          return;\n        }\n\n        if ((typeof log === 'undefined' ? 'undefined' : _typeof(log)) === 'object' && typeof log[level] === 'function') {\n          log[level]('mark.js: ' + msg);\n        }\n      }\n    }, {\n      key: 'escapeStr',\n      value: function escapeStr(str) {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n      }\n    }, {\n      key: 'createRegExp',\n      value: function createRegExp(str) {\n        if (this.opt.wildcards !== 'disabled') {\n          str = this.setupWildcardsRegExp(str);\n        }\n\n        str = this.escapeStr(str);\n\n        if (Object.keys(this.opt.synonyms).length) {\n          str = this.createSynonymsRegExp(str);\n        }\n\n        if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n          str = this.setupIgnoreJoinersRegExp(str);\n        }\n\n        if (this.opt.diacritics) {\n          str = this.createDiacriticsRegExp(str);\n        }\n\n        str = this.createMergedBlanksRegExp(str);\n\n        if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n          str = this.createJoinersRegExp(str);\n        }\n\n        if (this.opt.wildcards !== 'disabled') {\n          str = this.createWildcardsRegExp(str);\n        }\n\n        str = this.createAccuracyRegExp(str);\n        return str;\n      }\n    }, {\n      key: 'createSynonymsRegExp',\n      value: function createSynonymsRegExp(str) {\n        var syn = this.opt.synonyms,\n            sens = this.opt.caseSensitive ? '' : 'i',\n            joinerPlaceholder = this.opt.ignoreJoiners || this.opt.ignorePunctuation.length ? '\\0' : '';\n\n        for (var index in syn) {\n          if (syn.hasOwnProperty(index)) {\n            var value = syn[index],\n                k1 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(index) : this.escapeStr(index),\n                k2 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(value) : this.escapeStr(value);\n\n            if (k1 !== '' && k2 !== '') {\n              str = str.replace(new RegExp('(' + this.escapeStr(k1) + '|' + this.escapeStr(k2) + ')', 'gm' + sens), joinerPlaceholder + ('(' + this.processSynomyms(k1) + '|') + (this.processSynomyms(k2) + ')') + joinerPlaceholder);\n            }\n          }\n        }\n\n        return str;\n      }\n    }, {\n      key: 'processSynomyms',\n      value: function processSynomyms(str) {\n        if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n          str = this.setupIgnoreJoinersRegExp(str);\n        }\n\n        return str;\n      }\n    }, {\n      key: 'setupWildcardsRegExp',\n      value: function setupWildcardsRegExp(str) {\n        str = str.replace(/(?:\\\\)*\\?/g, function (val) {\n          return val.charAt(0) === '\\\\' ? '?' : '\\x01';\n        });\n        return str.replace(/(?:\\\\)*\\*/g, function (val) {\n          return val.charAt(0) === '\\\\' ? '*' : '\\x02';\n        });\n      }\n    }, {\n      key: 'createWildcardsRegExp',\n      value: function createWildcardsRegExp(str) {\n        var spaces = this.opt.wildcards === 'withSpaces';\n        return str.replace(/\\u0001/g, spaces ? '[\\\\S\\\\s]?' : '\\\\S?').replace(/\\u0002/g, spaces ? '[\\\\S\\\\s]*?' : '\\\\S*');\n      }\n    }, {\n      key: 'setupIgnoreJoinersRegExp',\n      value: function setupIgnoreJoinersRegExp(str) {\n        return str.replace(/[^(|)\\\\]/g, function (val, indx, original) {\n          var nextChar = original.charAt(indx + 1);\n\n          if (/[(|)\\\\]/.test(nextChar) || nextChar === '') {\n            return val;\n          } else {\n            return val + '\\0';\n          }\n        });\n      }\n    }, {\n      key: 'createJoinersRegExp',\n      value: function createJoinersRegExp(str) {\n        var joiner = [];\n        var ignorePunctuation = this.opt.ignorePunctuation;\n\n        if (Array.isArray(ignorePunctuation) && ignorePunctuation.length) {\n          joiner.push(this.escapeStr(ignorePunctuation.join('')));\n        }\n\n        if (this.opt.ignoreJoiners) {\n          joiner.push('\\\\u00ad\\\\u200b\\\\u200c\\\\u200d');\n        }\n\n        return joiner.length ? str.split(/\\u0000+/).join('[' + joiner.join('') + ']*') : str;\n      }\n    }, {\n      key: 'createDiacriticsRegExp',\n      value: function createDiacriticsRegExp(str) {\n        var sens = this.opt.caseSensitive ? '' : 'i',\n            dct = this.opt.caseSensitive ? ['aàáảãạăằắẳẵặâầấẩẫậäåāą', 'AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćč', 'CÇĆČ', 'dđď', 'DĐĎ', 'eèéẻẽẹêềếểễệëěēę', 'EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïī', 'IÌÍỈĨỊÎÏĪ', 'lł', 'LŁ', 'nñňń', 'NÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøō', 'OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rř', 'RŘ', 'sšśșş', 'SŠŚȘŞ', 'tťțţ', 'TŤȚŢ', 'uùúủũụưừứửữựûüůū', 'UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿ', 'YÝỲỶỸỴŸ', 'zžżź', 'ZŽŻŹ'] : ['aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćčCÇĆČ', 'dđďDĐĎ', 'eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïīIÌÍỈĨỊÎÏĪ', 'lłLŁ', 'nñňńNÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rřRŘ', 'sšśșşSŠŚȘŞ', 'tťțţTŤȚŢ', 'uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿYÝỲỶỸỴŸ', 'zžżźZŽŻŹ'];\n        var handled = [];\n        str.split('').forEach(function (ch) {\n          dct.every(function (dct) {\n            if (dct.indexOf(ch) !== -1) {\n              if (handled.indexOf(dct) > -1) {\n                return false;\n              }\n\n              str = str.replace(new RegExp('[' + dct + ']', 'gm' + sens), '[' + dct + ']');\n              handled.push(dct);\n            }\n\n            return true;\n          });\n        });\n        return str;\n      }\n    }, {\n      key: 'createMergedBlanksRegExp',\n      value: function createMergedBlanksRegExp(str) {\n        return str.replace(/[\\s]+/gmi, '[\\\\s]+');\n      }\n    }, {\n      key: 'createAccuracyRegExp',\n      value: function createAccuracyRegExp(str) {\n        var _this = this;\n\n        var chars = '!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~¡¿';\n        var acc = this.opt.accuracy,\n            val = typeof acc === 'string' ? acc : acc.value,\n            ls = typeof acc === 'string' ? [] : acc.limiters,\n            lsJoin = '';\n        ls.forEach(function (limiter) {\n          lsJoin += '|' + _this.escapeStr(limiter);\n        });\n\n        switch (val) {\n          case 'partially':\n          default:\n            return '()(' + str + ')';\n\n          case 'complementary':\n            lsJoin = '\\\\s' + (lsJoin ? lsJoin : this.escapeStr(chars));\n            return '()([^' + lsJoin + ']*' + str + '[^' + lsJoin + ']*)';\n\n          case 'exactly':\n            return '(^|\\\\s' + lsJoin + ')(' + str + ')(?=$|\\\\s' + lsJoin + ')';\n        }\n      }\n    }, {\n      key: 'getSeparatedKeywords',\n      value: function getSeparatedKeywords(sv) {\n        var _this2 = this;\n\n        var stack = [];\n        sv.forEach(function (kw) {\n          if (!_this2.opt.separateWordSearch) {\n            if (kw.trim() && stack.indexOf(kw) === -1) {\n              stack.push(kw);\n            }\n          } else {\n            kw.split(' ').forEach(function (kwSplitted) {\n              if (kwSplitted.trim() && stack.indexOf(kwSplitted) === -1) {\n                stack.push(kwSplitted);\n              }\n            });\n          }\n        });\n        return {\n          'keywords': stack.sort(function (a, b) {\n            return b.length - a.length;\n          }),\n          'length': stack.length\n        };\n      }\n    }, {\n      key: 'isNumeric',\n      value: function isNumeric(value) {\n        return Number(parseFloat(value)) == value;\n      }\n    }, {\n      key: 'checkRanges',\n      value: function checkRanges(array) {\n        var _this3 = this;\n\n        if (!Array.isArray(array) || Object.prototype.toString.call(array[0]) !== '[object Object]') {\n          this.log('markRanges() will only accept an array of objects');\n          this.opt.noMatch(array);\n          return [];\n        }\n\n        var stack = [];\n        var last = 0;\n        array.sort(function (a, b) {\n          return a.start - b.start;\n        }).forEach(function (item) {\n          var _callNoMatchOnInvalid = _this3.callNoMatchOnInvalidRanges(item, last),\n              start = _callNoMatchOnInvalid.start,\n              end = _callNoMatchOnInvalid.end,\n              valid = _callNoMatchOnInvalid.valid;\n\n          if (valid) {\n            item.start = start;\n            item.length = end - start;\n            stack.push(item);\n            last = end;\n          }\n        });\n        return stack;\n      }\n    }, {\n      key: 'callNoMatchOnInvalidRanges',\n      value: function callNoMatchOnInvalidRanges(range, last) {\n        var start = void 0,\n            end = void 0,\n            valid = false;\n\n        if (range && typeof range.start !== 'undefined') {\n          start = parseInt(range.start, 10);\n          end = start + parseInt(range.length, 10);\n\n          if (this.isNumeric(range.start) && this.isNumeric(range.length) && end - last > 0 && end - start > 0) {\n            valid = true;\n          } else {\n            this.log('Ignoring invalid or overlapping range: ' + ('' + JSON.stringify(range)));\n            this.opt.noMatch(range);\n          }\n        } else {\n          this.log('Ignoring invalid range: ' + JSON.stringify(range));\n          this.opt.noMatch(range);\n        }\n\n        return {\n          start: start,\n          end: end,\n          valid: valid\n        };\n      }\n    }, {\n      key: 'checkWhitespaceRanges',\n      value: function checkWhitespaceRanges(range, originalLength, string) {\n        var end = void 0,\n            valid = true,\n            max = string.length,\n            offset = originalLength - max,\n            start = parseInt(range.start, 10) - offset;\n        start = start > max ? max : start;\n        end = start + parseInt(range.length, 10);\n\n        if (end > max) {\n          end = max;\n          this.log('End range automatically set to the max value of ' + max);\n        }\n\n        if (start < 0 || end - start < 0 || start > max || end > max) {\n          valid = false;\n          this.log('Invalid range: ' + JSON.stringify(range));\n          this.opt.noMatch(range);\n        } else if (string.substring(start, end).replace(/\\s+/g, '') === '') {\n          valid = false;\n          this.log('Skipping whitespace only range: ' + JSON.stringify(range));\n          this.opt.noMatch(range);\n        }\n\n        return {\n          start: start,\n          end: end,\n          valid: valid\n        };\n      }\n    }, {\n      key: 'getTextNodes',\n      value: function getTextNodes(cb) {\n        var _this4 = this;\n\n        var val = '',\n            nodes = [];\n        this.iterator.forEachNode(NodeFilter.SHOW_TEXT, function (node) {\n          nodes.push({\n            start: val.length,\n            end: (val += node.textContent).length,\n            node: node\n          });\n        }, function (node) {\n          if (_this4.matchesExclude(node.parentNode)) {\n            return NodeFilter.FILTER_REJECT;\n          } else {\n            return NodeFilter.FILTER_ACCEPT;\n          }\n        }, function () {\n          cb({\n            value: val,\n            nodes: nodes\n          });\n        });\n      }\n    }, {\n      key: 'matchesExclude',\n      value: function matchesExclude(el) {\n        return DOMIterator.matches(el, this.opt.exclude.concat(['script', 'style', 'title', 'head', 'html']));\n      }\n    }, {\n      key: 'wrapRangeInTextNode',\n      value: function wrapRangeInTextNode(node, start, end) {\n        var hEl = !this.opt.element ? 'mark' : this.opt.element,\n            startNode = node.splitText(start),\n            ret = startNode.splitText(end - start);\n        var repl = document.createElement(hEl);\n        repl.setAttribute('data-markjs', 'true');\n\n        if (this.opt.className) {\n          repl.setAttribute('class', this.opt.className);\n        }\n\n        repl.textContent = startNode.textContent;\n        startNode.parentNode.replaceChild(repl, startNode);\n        return ret;\n      }\n    }, {\n      key: 'wrapRangeInMappedTextNode',\n      value: function wrapRangeInMappedTextNode(dict, start, end, filterCb, eachCb) {\n        var _this5 = this;\n\n        dict.nodes.every(function (n, i) {\n          var sibl = dict.nodes[i + 1];\n\n          if (typeof sibl === 'undefined' || sibl.start > start) {\n            if (!filterCb(n.node)) {\n              return false;\n            }\n\n            var s = start - n.start,\n                e = (end > n.end ? n.end : end) - n.start,\n                startStr = dict.value.substr(0, n.start),\n                endStr = dict.value.substr(e + n.start);\n            n.node = _this5.wrapRangeInTextNode(n.node, s, e);\n            dict.value = startStr + endStr;\n            dict.nodes.forEach(function (k, j) {\n              if (j >= i) {\n                if (dict.nodes[j].start > 0 && j !== i) {\n                  dict.nodes[j].start -= e;\n                }\n\n                dict.nodes[j].end -= e;\n              }\n            });\n            end -= e;\n            eachCb(n.node.previousSibling, n.start);\n\n            if (end > n.end) {\n              start = n.end;\n            } else {\n              return false;\n            }\n          }\n\n          return true;\n        });\n      }\n    }, {\n      key: 'wrapMatches',\n      value: function wrapMatches(regex, ignoreGroups, filterCb, eachCb, endCb) {\n        var _this6 = this;\n\n        var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n        this.getTextNodes(function (dict) {\n          dict.nodes.forEach(function (node) {\n            node = node.node;\n            var match = void 0;\n\n            while ((match = regex.exec(node.textContent)) !== null && match[matchIdx] !== '') {\n              if (!filterCb(match[matchIdx], node)) {\n                continue;\n              }\n\n              var pos = match.index;\n\n              if (matchIdx !== 0) {\n                for (var i = 1; i < matchIdx; i++) {\n                  pos += match[i].length;\n                }\n              }\n\n              node = _this6.wrapRangeInTextNode(node, pos, pos + match[matchIdx].length);\n              eachCb(node.previousSibling);\n              regex.lastIndex = 0;\n            }\n          });\n          endCb();\n        });\n      }\n    }, {\n      key: 'wrapMatchesAcrossElements',\n      value: function wrapMatchesAcrossElements(regex, ignoreGroups, filterCb, eachCb, endCb) {\n        var _this7 = this;\n\n        var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n        this.getTextNodes(function (dict) {\n          var match = void 0;\n\n          while ((match = regex.exec(dict.value)) !== null && match[matchIdx] !== '') {\n            var start = match.index;\n\n            if (matchIdx !== 0) {\n              for (var i = 1; i < matchIdx; i++) {\n                start += match[i].length;\n              }\n            }\n\n            var end = start + match[matchIdx].length;\n\n            _this7.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n              return filterCb(match[matchIdx], node);\n            }, function (node, lastIndex) {\n              regex.lastIndex = lastIndex;\n              eachCb(node);\n            });\n          }\n\n          endCb();\n        });\n      }\n    }, {\n      key: 'wrapRangeFromIndex',\n      value: function wrapRangeFromIndex(ranges, filterCb, eachCb, endCb) {\n        var _this8 = this;\n\n        this.getTextNodes(function (dict) {\n          var originalLength = dict.value.length;\n          ranges.forEach(function (range, counter) {\n            var _checkWhitespaceRange = _this8.checkWhitespaceRanges(range, originalLength, dict.value),\n                start = _checkWhitespaceRange.start,\n                end = _checkWhitespaceRange.end,\n                valid = _checkWhitespaceRange.valid;\n\n            if (valid) {\n              _this8.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n                return filterCb(node, range, dict.value.substring(start, end), counter);\n              }, function (node) {\n                eachCb(node, range);\n              });\n            }\n          });\n          endCb();\n        });\n      }\n    }, {\n      key: 'unwrapMatches',\n      value: function unwrapMatches(node) {\n        var parent = node.parentNode;\n        var docFrag = document.createDocumentFragment();\n\n        while (node.firstChild) {\n          docFrag.appendChild(node.removeChild(node.firstChild));\n        }\n\n        parent.replaceChild(docFrag, node);\n\n        if (!this.ie) {\n          parent.normalize();\n        } else {\n          this.normalizeTextNode(parent);\n        }\n      }\n    }, {\n      key: 'normalizeTextNode',\n      value: function normalizeTextNode(node) {\n        if (!node) {\n          return;\n        }\n\n        if (node.nodeType === 3) {\n          while (node.nextSibling && node.nextSibling.nodeType === 3) {\n            node.nodeValue += node.nextSibling.nodeValue;\n            node.parentNode.removeChild(node.nextSibling);\n          }\n        } else {\n          this.normalizeTextNode(node.firstChild);\n        }\n\n        this.normalizeTextNode(node.nextSibling);\n      }\n    }, {\n      key: 'markRegExp',\n      value: function markRegExp(regexp, opt) {\n        var _this9 = this;\n\n        this.opt = opt;\n        this.log('Searching with expression \"' + regexp + '\"');\n        var totalMatches = 0,\n            fn = 'wrapMatches';\n\n        var eachCb = function eachCb(element) {\n          totalMatches++;\n\n          _this9.opt.each(element);\n        };\n\n        if (this.opt.acrossElements) {\n          fn = 'wrapMatchesAcrossElements';\n        }\n\n        this[fn](regexp, this.opt.ignoreGroups, function (match, node) {\n          return _this9.opt.filter(node, match, totalMatches);\n        }, eachCb, function () {\n          if (totalMatches === 0) {\n            _this9.opt.noMatch(regexp);\n          }\n\n          _this9.opt.done(totalMatches);\n        });\n      }\n    }, {\n      key: 'mark',\n      value: function mark(sv, opt) {\n        var _this10 = this;\n\n        this.opt = opt;\n        var totalMatches = 0,\n            fn = 'wrapMatches';\n\n        var _getSeparatedKeywords = this.getSeparatedKeywords(typeof sv === 'string' ? [sv] : sv),\n            kwArr = _getSeparatedKeywords.keywords,\n            kwArrLen = _getSeparatedKeywords.length,\n            sens = this.opt.caseSensitive ? '' : 'i',\n            handler = function handler(kw) {\n          var regex = new RegExp(_this10.createRegExp(kw), 'gm' + sens),\n              matches = 0;\n\n          _this10.log('Searching with expression \"' + regex + '\"');\n\n          _this10[fn](regex, 1, function (term, node) {\n            return _this10.opt.filter(node, kw, totalMatches, matches);\n          }, function (element) {\n            matches++;\n            totalMatches++;\n\n            _this10.opt.each(element);\n          }, function () {\n            if (matches === 0) {\n              _this10.opt.noMatch(kw);\n            }\n\n            if (kwArr[kwArrLen - 1] === kw) {\n              _this10.opt.done(totalMatches);\n            } else {\n              handler(kwArr[kwArr.indexOf(kw) + 1]);\n            }\n          });\n        };\n\n        if (this.opt.acrossElements) {\n          fn = 'wrapMatchesAcrossElements';\n        }\n\n        if (kwArrLen === 0) {\n          this.opt.done(totalMatches);\n        } else {\n          handler(kwArr[0]);\n        }\n      }\n    }, {\n      key: 'markRanges',\n      value: function markRanges(rawRanges, opt) {\n        var _this11 = this;\n\n        this.opt = opt;\n        var totalMatches = 0,\n            ranges = this.checkRanges(rawRanges);\n\n        if (ranges && ranges.length) {\n          this.log('Starting to mark with the following ranges: ' + JSON.stringify(ranges));\n          this.wrapRangeFromIndex(ranges, function (node, range, match, counter) {\n            return _this11.opt.filter(node, range, match, counter);\n          }, function (element, range) {\n            totalMatches++;\n\n            _this11.opt.each(element, range);\n          }, function () {\n            _this11.opt.done(totalMatches);\n          });\n        } else {\n          this.opt.done(totalMatches);\n        }\n      }\n    }, {\n      key: 'unmark',\n      value: function unmark(opt) {\n        var _this12 = this;\n\n        this.opt = opt;\n        var sel = this.opt.element ? this.opt.element : '*';\n        sel += '[data-markjs]';\n\n        if (this.opt.className) {\n          sel += '.' + this.opt.className;\n        }\n\n        this.log('Removal selector \"' + sel + '\"');\n        this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT, function (node) {\n          _this12.unwrapMatches(node);\n        }, function (node) {\n          var matchesSel = DOMIterator.matches(node, sel),\n              matchesExclude = _this12.matchesExclude(node);\n\n          if (!matchesSel || matchesExclude) {\n            return NodeFilter.FILTER_REJECT;\n          } else {\n            return NodeFilter.FILTER_ACCEPT;\n          }\n        }, this.opt.done);\n      }\n    }, {\n      key: 'opt',\n      set: function set$$1(val) {\n        this._opt = _extends({}, {\n          'element': '',\n          'className': '',\n          'exclude': [],\n          'iframes': false,\n          'iframesTimeout': 5000,\n          'separateWordSearch': true,\n          'diacritics': true,\n          'synonyms': {},\n          'accuracy': 'partially',\n          'acrossElements': false,\n          'caseSensitive': false,\n          'ignoreJoiners': false,\n          'ignoreGroups': 0,\n          'ignorePunctuation': [],\n          'wildcards': 'disabled',\n          'each': function each() {},\n          'noMatch': function noMatch() {},\n          'filter': function filter() {\n            return true;\n          },\n          'done': function done() {},\n          'debug': false,\n          'log': window.console\n        }, val);\n      },\n      get: function get$$1() {\n        return this._opt;\n      }\n    }, {\n      key: 'iterator',\n      get: function get$$1() {\n        return new DOMIterator(this.ctx, this.opt.iframes, this.opt.exclude, this.opt.iframesTimeout);\n      }\n    }]);\n    return Mark;\n  }();\n\n  function Mark(ctx) {\n    var _this = this;\n\n    var instance = new Mark$1(ctx);\n\n    this.mark = function (sv, opt) {\n      instance.mark(sv, opt);\n      return _this;\n    };\n\n    this.markRegExp = function (sv, opt) {\n      instance.markRegExp(sv, opt);\n      return _this;\n    };\n\n    this.markRanges = function (sv, opt) {\n      instance.markRanges(sv, opt);\n      return _this;\n    };\n\n    this.unmark = function (opt) {\n      instance.unmark(opt);\n      return _this;\n    };\n\n    return this;\n  }\n\n  return Mark;\n});","map":{"version":3,"sources":["/media/gauravd/Drive2/ReactJS/textutils/node_modules/mark.js/dist/mark.js"],"names":["global","factory","exports","module","define","amd","Mark","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","_extends","assign","arguments","source","hasOwnProperty","call","DOMIterator","ctx","iframes","undefined","exclude","iframesTimeout","value","getContexts","filteredCtx","NodeList","isPrototypeOf","Array","slice","isArray","document","querySelectorAll","forEach","isDescendant","filter","contexts","contains","indexOf","push","getIframeContents","ifr","successFn","errorFn","doc","ifrWin","contentWindow","Error","e","isIframeBlank","bl","src","getAttribute","trim","href","location","observeIframeLoad","_this","called","tout","listener","clearTimeout","removeEventListener","addEventListener","setTimeout","onIframeReady","readyState","waitForIframes","done","_this2","eachCalled","forEachIframe","querySelector","handled","each","_this3","end","open","checkEnd","matches","con","createIterator","whatToShow","createNodeIterator","createInstanceOnIframe","contents","compareNodeIframe","node","prevNode","compCurr","compareDocumentPosition","prev","Node","DOCUMENT_POSITION_PRECEDING","compPrev","after","DOCUMENT_POSITION_FOLLOWING","getIteratorNode","itr","previousNode","nextNode","checkIframeFilter","currIfr","ifrDict","val","handleOpenIframes","eCb","fCb","_this4","forEachNode","iterateThroughNodes","eachCb","filterCb","doneCb","_this5","elements","retrieveNodes","_getIteratorNode","ifrNode","_this6","ready","element","selector","selectors","fn","matchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","webkitMatchesSelector","match","every","sel","Mark$1","ie","ua","window","navigator","userAgent","log","msg","level","opt","debug","escapeStr","str","replace","createRegExp","wildcards","setupWildcardsRegExp","keys","synonyms","createSynonymsRegExp","ignoreJoiners","ignorePunctuation","setupIgnoreJoinersRegExp","diacritics","createDiacriticsRegExp","createMergedBlanksRegExp","createJoinersRegExp","createWildcardsRegExp","createAccuracyRegExp","syn","sens","caseSensitive","joinerPlaceholder","index","k1","k2","RegExp","processSynomyms","charAt","spaces","indx","original","nextChar","test","joiner","join","split","dct","ch","chars","acc","accuracy","ls","limiters","lsJoin","limiter","getSeparatedKeywords","sv","stack","kw","separateWordSearch","kwSplitted","sort","a","b","isNumeric","Number","parseFloat","checkRanges","array","toString","noMatch","last","start","item","_callNoMatchOnInvalid","callNoMatchOnInvalidRanges","valid","range","parseInt","JSON","stringify","checkWhitespaceRanges","originalLength","string","max","offset","substring","getTextNodes","cb","nodes","NodeFilter","SHOW_TEXT","textContent","matchesExclude","parentNode","FILTER_REJECT","FILTER_ACCEPT","el","concat","wrapRangeInTextNode","hEl","startNode","splitText","ret","repl","createElement","setAttribute","className","replaceChild","wrapRangeInMappedTextNode","dict","n","sibl","s","startStr","substr","endStr","k","j","previousSibling","wrapMatches","regex","ignoreGroups","endCb","matchIdx","exec","pos","lastIndex","wrapMatchesAcrossElements","_this7","wrapRangeFromIndex","ranges","_this8","counter","_checkWhitespaceRange","unwrapMatches","parent","docFrag","createDocumentFragment","firstChild","appendChild","removeChild","normalize","normalizeTextNode","nodeType","nextSibling","nodeValue","markRegExp","regexp","_this9","totalMatches","acrossElements","mark","_this10","_getSeparatedKeywords","kwArr","keywords","kwArrLen","handler","term","markRanges","rawRanges","_this11","unmark","_this12","SHOW_ELEMENT","matchesSel","set","set$$1","_opt","console","get","get$$1"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEC,WAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AAC3B,SAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DA,MAAM,CAACD,OAAP,GAAiBD,OAAO,EAAvF,GACA,OAAOG,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAAvC,GAA6CD,MAAM,CAACH,OAAD,CAAnD,GACCD,MAAM,CAACM,IAAP,GAAcL,OAAO,EAFtB;AAGA,CAJA,EAIC,IAJD,EAIQ,YAAY;AAAE;;AAEvB,MAAIM,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AACjG,WAAO,OAAOA,GAAd;AACD,GAFa,GAEV,UAAUA,GAAV,EAAe;AACjB,WAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,IAAqEE,GAAG,KAAKF,MAAM,CAACI,SAApF,GAAgG,QAAhG,GAA2G,OAAOF,GAAzH;AACD,GAJD;;AAgBA,MAAIG,cAAc,GAAG,UAAUC,QAAV,EAAoBC,WAApB,EAAiC;AACpD,QAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AACtC,YAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AACD;AACF,GAJD;;AAMA,MAAIC,WAAW,GAAG,YAAY;AAC5B,aAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AACvC,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,YAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AACAE,QAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AACAD,QAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AACA,YAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAC3BC,QAAAA,MAAM,CAACC,cAAP,CAAsBT,MAAtB,EAA8BI,UAAU,CAACM,GAAzC,EAA8CN,UAA9C;AACD;AACF;;AAED,WAAO,UAAUR,WAAV,EAAuBe,UAAvB,EAAmCC,WAAnC,EAAgD;AACrD,UAAID,UAAJ,EAAgBZ,gBAAgB,CAACH,WAAW,CAACH,SAAb,EAAwBkB,UAAxB,CAAhB;AAChB,UAAIC,WAAJ,EAAiBb,gBAAgB,CAACH,WAAD,EAAcgB,WAAd,CAAhB;AACjB,aAAOhB,WAAP;AACD,KAJD;AAKD,GAhBiB,EAAlB;;AAwBA,MAAIiB,QAAQ,GAAGL,MAAM,CAACM,MAAP,IAAiB,UAAUd,MAAV,EAAkB;AAChD,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGa,SAAS,CAACZ,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,UAAIc,MAAM,GAAGD,SAAS,CAACb,CAAD,CAAtB;;AAEA,WAAK,IAAIQ,GAAT,IAAgBM,MAAhB,EAAwB;AACtB,YAAIR,MAAM,CAACf,SAAP,CAAiBwB,cAAjB,CAAgCC,IAAhC,CAAqCF,MAArC,EAA6CN,GAA7C,CAAJ,EAAuD;AACrDV,UAAAA,MAAM,CAACU,GAAD,CAAN,GAAcM,MAAM,CAACN,GAAD,CAApB;AACD;AACF;AACF;;AAED,WAAOV,MAAP;AACD,GAZD;;AAcA,MAAImB,WAAW,GAAG,YAAY;AAC5B,aAASA,WAAT,CAAqBC,GAArB,EAA0B;AACxB,UAAIC,OAAO,GAAGN,SAAS,CAACZ,MAAV,GAAmB,CAAnB,IAAwBY,SAAS,CAAC,CAAD,CAAT,KAAiBO,SAAzC,GAAqDP,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAlF;AACA,UAAIQ,OAAO,GAAGR,SAAS,CAACZ,MAAV,GAAmB,CAAnB,IAAwBY,SAAS,CAAC,CAAD,CAAT,KAAiBO,SAAzC,GAAqDP,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,UAAIS,cAAc,GAAGT,SAAS,CAACZ,MAAV,GAAmB,CAAnB,IAAwBY,SAAS,CAAC,CAAD,CAAT,KAAiBO,SAAzC,GAAqDP,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAzF;AACArB,MAAAA,cAAc,CAAC,IAAD,EAAOyB,WAAP,CAAd;AAEA,WAAKC,GAAL,GAAWA,GAAX;AACA,WAAKC,OAAL,GAAeA,OAAf;AACA,WAAKE,OAAL,GAAeA,OAAf;AACA,WAAKC,cAAL,GAAsBA,cAAtB;AACD;;AAED1B,IAAAA,WAAW,CAACqB,WAAD,EAAc,CAAC;AACxBT,MAAAA,GAAG,EAAE,aADmB;AAExBe,MAAAA,KAAK,EAAE,SAASC,WAAT,GAAuB;AAC5B,YAAIN,GAAG,GAAG,KAAK,CAAf;AAAA,YACIO,WAAW,GAAG,EADlB;;AAEA,YAAI,OAAO,KAAKP,GAAZ,KAAoB,WAApB,IAAmC,CAAC,KAAKA,GAA7C,EAAkD;AAChDA,UAAAA,GAAG,GAAG,EAAN;AACD,SAFD,MAEO,IAAIQ,QAAQ,CAACnC,SAAT,CAAmBoC,aAAnB,CAAiC,KAAKT,GAAtC,CAAJ,EAAgD;AACrDA,UAAAA,GAAG,GAAGU,KAAK,CAACrC,SAAN,CAAgBsC,KAAhB,CAAsBb,IAAtB,CAA2B,KAAKE,GAAhC,CAAN;AACD,SAFM,MAEA,IAAIU,KAAK,CAACE,OAAN,CAAc,KAAKZ,GAAnB,CAAJ,EAA6B;AAClCA,UAAAA,GAAG,GAAG,KAAKA,GAAX;AACD,SAFM,MAEA,IAAI,OAAO,KAAKA,GAAZ,KAAoB,QAAxB,EAAkC;AACvCA,UAAAA,GAAG,GAAGU,KAAK,CAACrC,SAAN,CAAgBsC,KAAhB,CAAsBb,IAAtB,CAA2Be,QAAQ,CAACC,gBAAT,CAA0B,KAAKd,GAA/B,CAA3B,CAAN;AACD,SAFM,MAEA;AACLA,UAAAA,GAAG,GAAG,CAAC,KAAKA,GAAN,CAAN;AACD;;AACDA,QAAAA,GAAG,CAACe,OAAJ,CAAY,UAAUf,GAAV,EAAe;AACzB,cAAIgB,YAAY,GAAGT,WAAW,CAACU,MAAZ,CAAmB,UAAUC,QAAV,EAAoB;AACxD,mBAAOA,QAAQ,CAACC,QAAT,CAAkBnB,GAAlB,CAAP;AACD,WAFkB,EAEhBjB,MAFgB,GAEP,CAFZ;;AAGA,cAAIwB,WAAW,CAACa,OAAZ,CAAoBpB,GAApB,MAA6B,CAAC,CAA9B,IAAmC,CAACgB,YAAxC,EAAsD;AACpDT,YAAAA,WAAW,CAACc,IAAZ,CAAiBrB,GAAjB;AACD;AACF,SAPD;AAQA,eAAOO,WAAP;AACD;AAzBuB,KAAD,EA0BtB;AACDjB,MAAAA,GAAG,EAAE,mBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASiB,iBAAT,CAA2BC,GAA3B,EAAgCC,SAAhC,EAA2C;AAChD,YAAIC,OAAO,GAAG9B,SAAS,CAACZ,MAAV,GAAmB,CAAnB,IAAwBY,SAAS,CAAC,CAAD,CAAT,KAAiBO,SAAzC,GAAqDP,SAAS,CAAC,CAAD,CAA9D,GAAoE,YAAY,CAAE,CAAhG;AAEA,YAAI+B,GAAG,GAAG,KAAK,CAAf;;AACA,YAAI;AACF,cAAIC,MAAM,GAAGJ,GAAG,CAACK,aAAjB;AACAF,UAAAA,GAAG,GAAGC,MAAM,CAACd,QAAb;;AACA,cAAI,CAACc,MAAD,IAAW,CAACD,GAAhB,EAAqB;AACnB,kBAAM,IAAIG,KAAJ,CAAU,qBAAV,CAAN;AACD;AACF,SAND,CAME,OAAOC,CAAP,EAAU;AACVL,UAAAA,OAAO;AACR;;AACD,YAAIC,GAAJ,EAAS;AACPF,UAAAA,SAAS,CAACE,GAAD,CAAT;AACD;AACF;AAlBA,KA1BsB,EA6CtB;AACDpC,MAAAA,GAAG,EAAE,eADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS0B,aAAT,CAAuBR,GAAvB,EAA4B;AACjC,YAAIS,EAAE,GAAG,aAAT;AAAA,YACIC,GAAG,GAAGV,GAAG,CAACW,YAAJ,CAAiB,KAAjB,EAAwBC,IAAxB,EADV;AAAA,YAEIC,IAAI,GAAGb,GAAG,CAACK,aAAJ,CAAkBS,QAAlB,CAA2BD,IAFtC;AAGA,eAAOA,IAAI,KAAKJ,EAAT,IAAeC,GAAG,KAAKD,EAAvB,IAA6BC,GAApC;AACD;AAPA,KA7CsB,EAqDtB;AACD3C,MAAAA,GAAG,EAAE,mBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASiC,iBAAT,CAA2Bf,GAA3B,EAAgCC,SAAhC,EAA2CC,OAA3C,EAAoD;AACzD,YAAIc,KAAK,GAAG,IAAZ;;AAEA,YAAIC,MAAM,GAAG,KAAb;AAAA,YACIC,IAAI,GAAG,IADX;;AAEA,YAAIC,QAAQ,GAAG,SAASA,QAAT,GAAoB;AACjC,cAAIF,MAAJ,EAAY;AACV;AACD;;AACDA,UAAAA,MAAM,GAAG,IAAT;AACAG,UAAAA,YAAY,CAACF,IAAD,CAAZ;;AACA,cAAI;AACF,gBAAI,CAACF,KAAK,CAACR,aAAN,CAAoBR,GAApB,CAAL,EAA+B;AAC7BA,cAAAA,GAAG,CAACqB,mBAAJ,CAAwB,MAAxB,EAAgCF,QAAhC;;AACAH,cAAAA,KAAK,CAACjB,iBAAN,CAAwBC,GAAxB,EAA6BC,SAA7B,EAAwCC,OAAxC;AACD;AACF,WALD,CAKE,OAAOK,CAAP,EAAU;AACVL,YAAAA,OAAO;AACR;AACF,SAdD;;AAeAF,QAAAA,GAAG,CAACsB,gBAAJ,CAAqB,MAArB,EAA6BH,QAA7B;AACAD,QAAAA,IAAI,GAAGK,UAAU,CAACJ,QAAD,EAAW,KAAKtC,cAAhB,CAAjB;AACD;AAxBA,KArDsB,EA8EtB;AACDd,MAAAA,GAAG,EAAE,eADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS0C,aAAT,CAAuBxB,GAAvB,EAA4BC,SAA5B,EAAuCC,OAAvC,EAAgD;AACrD,YAAI;AACF,cAAIF,GAAG,CAACK,aAAJ,CAAkBf,QAAlB,CAA2BmC,UAA3B,KAA0C,UAA9C,EAA0D;AACxD,gBAAI,KAAKjB,aAAL,CAAmBR,GAAnB,CAAJ,EAA6B;AAC3B,mBAAKe,iBAAL,CAAuBf,GAAvB,EAA4BC,SAA5B,EAAuCC,OAAvC;AACD,aAFD,MAEO;AACL,mBAAKH,iBAAL,CAAuBC,GAAvB,EAA4BC,SAA5B,EAAuCC,OAAvC;AACD;AACF,WAND,MAMO;AACL,iBAAKa,iBAAL,CAAuBf,GAAvB,EAA4BC,SAA5B,EAAuCC,OAAvC;AACD;AACF,SAVD,CAUE,OAAOK,CAAP,EAAU;AACVL,UAAAA,OAAO;AACR;AACF;AAhBA,KA9EsB,EA+FtB;AACDnC,MAAAA,GAAG,EAAE,gBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS4C,cAAT,CAAwBjD,GAAxB,EAA6BkD,IAA7B,EAAmC;AACxC,YAAIC,MAAM,GAAG,IAAb;;AAEA,YAAIC,UAAU,GAAG,CAAjB;AACA,aAAKC,aAAL,CAAmBrD,GAAnB,EAAwB,YAAY;AAClC,iBAAO,IAAP;AACD,SAFD,EAEG,UAAUuB,GAAV,EAAe;AAChB6B,UAAAA,UAAU;;AACVD,UAAAA,MAAM,CAACF,cAAP,CAAsB1B,GAAG,CAAC+B,aAAJ,CAAkB,MAAlB,CAAtB,EAAiD,YAAY;AAC3D,gBAAI,CAAE,GAAEF,UAAR,EAAoB;AAClBF,cAAAA,IAAI;AACL;AACF,WAJD;AAKD,SATD,EASG,UAAUK,OAAV,EAAmB;AACpB,cAAI,CAACA,OAAL,EAAc;AACZL,YAAAA,IAAI;AACL;AACF,SAbD;AAcD;AApBA,KA/FsB,EAoHtB;AACD5D,MAAAA,GAAG,EAAE,eADJ;AAEDe,MAAAA,KAAK,EAAE,SAASgD,aAAT,CAAuBrD,GAAvB,EAA4BiB,MAA5B,EAAoCuC,IAApC,EAA0C;AAC/C,YAAIC,MAAM,GAAG,IAAb;;AAEA,YAAIC,GAAG,GAAG/D,SAAS,CAACZ,MAAV,GAAmB,CAAnB,IAAwBY,SAAS,CAAC,CAAD,CAAT,KAAiBO,SAAzC,GAAqDP,SAAS,CAAC,CAAD,CAA9D,GAAoE,YAAY,CAAE,CAA5F;AAEA,YAAI4B,GAAG,GAAGvB,GAAG,CAACc,gBAAJ,CAAqB,QAArB,CAAV;AAAA,YACI6C,IAAI,GAAGpC,GAAG,CAACxC,MADf;AAAA,YAEIwE,OAAO,GAAG,CAFd;AAGAhC,QAAAA,GAAG,GAAGb,KAAK,CAACrC,SAAN,CAAgBsC,KAAhB,CAAsBb,IAAtB,CAA2ByB,GAA3B,CAAN;;AACA,YAAIqC,QAAQ,GAAG,SAASA,QAAT,GAAoB;AACjC,cAAI,EAAED,IAAF,IAAU,CAAd,EAAiB;AACfD,YAAAA,GAAG,CAACH,OAAD,CAAH;AACD;AACF,SAJD;;AAKA,YAAI,CAACI,IAAL,EAAW;AACTC,UAAAA,QAAQ;AACT;;AACDrC,QAAAA,GAAG,CAACR,OAAJ,CAAY,UAAUQ,GAAV,EAAe;AACzB,cAAIxB,WAAW,CAAC8D,OAAZ,CAAoBtC,GAApB,EAAyBkC,MAAM,CAACtD,OAAhC,CAAJ,EAA8C;AAC5CyD,YAAAA,QAAQ;AACT,WAFD,MAEO;AACLH,YAAAA,MAAM,CAACV,aAAP,CAAqBxB,GAArB,EAA0B,UAAUuC,GAAV,EAAe;AACvC,kBAAI7C,MAAM,CAACM,GAAD,CAAV,EAAiB;AACfgC,gBAAAA,OAAO;AACPC,gBAAAA,IAAI,CAACM,GAAD,CAAJ;AACD;;AACDF,cAAAA,QAAQ;AACT,aAND,EAMGA,QANH;AAOD;AACF,SAZD;AAaD;AAhCA,KApHsB,EAqJtB;AACDtE,MAAAA,GAAG,EAAE,gBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS0D,cAAT,CAAwB/D,GAAxB,EAA6BgE,UAA7B,EAAyC/C,MAAzC,EAAiD;AACtD,eAAOJ,QAAQ,CAACoD,kBAAT,CAA4BjE,GAA5B,EAAiCgE,UAAjC,EAA6C/C,MAA7C,EAAqD,KAArD,CAAP;AACD;AAJA,KArJsB,EA0JtB;AACD3B,MAAAA,GAAG,EAAE,wBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS6D,sBAAT,CAAgCC,QAAhC,EAA0C;AAC/C,eAAO,IAAIpE,WAAJ,CAAgBoE,QAAQ,CAACb,aAAT,CAAuB,MAAvB,CAAhB,EAAgD,KAAKrD,OAArD,CAAP;AACD;AAJA,KA1JsB,EA+JtB;AACDX,MAAAA,GAAG,EAAE,mBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS+D,iBAAT,CAA2BC,IAA3B,EAAiCC,QAAjC,EAA2C/C,GAA3C,EAAgD;AACrD,YAAIgD,QAAQ,GAAGF,IAAI,CAACG,uBAAL,CAA6BjD,GAA7B,CAAf;AAAA,YACIkD,IAAI,GAAGC,IAAI,CAACC,2BADhB;;AAEA,YAAIJ,QAAQ,GAAGE,IAAf,EAAqB;AACnB,cAAIH,QAAQ,KAAK,IAAjB,EAAuB;AACrB,gBAAIM,QAAQ,GAAGN,QAAQ,CAACE,uBAAT,CAAiCjD,GAAjC,CAAf;AAAA,gBACIsD,KAAK,GAAGH,IAAI,CAACI,2BADjB;;AAEA,gBAAIF,QAAQ,GAAGC,KAAf,EAAsB;AACpB,qBAAO,IAAP;AACD;AACF,WAND,MAMO;AACL,mBAAO,IAAP;AACD;AACF;;AACD,eAAO,KAAP;AACD;AAjBA,KA/JsB,EAiLtB;AACDvF,MAAAA,GAAG,EAAE,iBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS0E,eAAT,CAAyBC,GAAzB,EAA8B;AACnC,YAAIV,QAAQ,GAAGU,GAAG,CAACC,YAAJ,EAAf;AACA,YAAIZ,IAAI,GAAG,KAAK,CAAhB;;AACA,YAAIC,QAAQ,KAAK,IAAjB,EAAuB;AACrBD,UAAAA,IAAI,GAAGW,GAAG,CAACE,QAAJ,EAAP;AACD,SAFD,MAEO;AACLb,UAAAA,IAAI,GAAGW,GAAG,CAACE,QAAJ,MAAkBF,GAAG,CAACE,QAAJ,EAAzB;AACD;;AACD,eAAO;AACLZ,UAAAA,QAAQ,EAAEA,QADL;AAELD,UAAAA,IAAI,EAAEA;AAFD,SAAP;AAID;AAdA,KAjLsB,EAgMtB;AACD/E,MAAAA,GAAG,EAAE,mBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS8E,iBAAT,CAA2Bd,IAA3B,EAAiCC,QAAjC,EAA2Cc,OAA3C,EAAoD7D,GAApD,EAAyD;AAC9D,YAAIjC,GAAG,GAAG,KAAV;AAAA,YACIiE,OAAO,GAAG,KADd;AAEAhC,QAAAA,GAAG,CAACR,OAAJ,CAAY,UAAUsE,OAAV,EAAmBvG,CAAnB,EAAsB;AAChC,cAAIuG,OAAO,CAACC,GAAR,KAAgBF,OAApB,EAA6B;AAC3B9F,YAAAA,GAAG,GAAGR,CAAN;AACAyE,YAAAA,OAAO,GAAG8B,OAAO,CAAC9B,OAAlB;AACD;AACF,SALD;;AAMA,YAAI,KAAKa,iBAAL,CAAuBC,IAAvB,EAA6BC,QAA7B,EAAuCc,OAAvC,CAAJ,EAAqD;AACnD,cAAI9F,GAAG,KAAK,KAAR,IAAiB,CAACiE,OAAtB,EAA+B;AAC7BhC,YAAAA,GAAG,CAACF,IAAJ,CAAS;AACPiE,cAAAA,GAAG,EAAEF,OADE;AAEP7B,cAAAA,OAAO,EAAE;AAFF,aAAT;AAID,WALD,MAKO,IAAIjE,GAAG,KAAK,KAAR,IAAiB,CAACiE,OAAtB,EAA+B;AACpChC,YAAAA,GAAG,CAACjC,GAAD,CAAH,CAASiE,OAAT,GAAmB,IAAnB;AACD;;AACD,iBAAO,IAAP;AACD;;AACD,YAAIjE,GAAG,KAAK,KAAZ,EAAmB;AACjBiC,UAAAA,GAAG,CAACF,IAAJ,CAAS;AACPiE,YAAAA,GAAG,EAAEF,OADE;AAEP7B,YAAAA,OAAO,EAAE;AAFF,WAAT;AAID;;AACD,eAAO,KAAP;AACD;AA7BA,KAhMsB,EA8NtB;AACDjE,MAAAA,GAAG,EAAE,mBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASkF,iBAAT,CAA2BhE,GAA3B,EAAgCyC,UAAhC,EAA4CwB,GAA5C,EAAiDC,GAAjD,EAAsD;AAC3D,YAAIC,MAAM,GAAG,IAAb;;AAEAnE,QAAAA,GAAG,CAACR,OAAJ,CAAY,UAAUsE,OAAV,EAAmB;AAC7B,cAAI,CAACA,OAAO,CAAC9B,OAAb,EAAsB;AACpBmC,YAAAA,MAAM,CAACpE,iBAAP,CAAyB+D,OAAO,CAACC,GAAjC,EAAsC,UAAUxB,GAAV,EAAe;AACnD4B,cAAAA,MAAM,CAACxB,sBAAP,CAA8BJ,GAA9B,EAAmC6B,WAAnC,CAA+C3B,UAA/C,EAA2DwB,GAA3D,EAAgEC,GAAhE;AACD,aAFD;AAGD;AACF,SAND;AAOD;AAZA,KA9NsB,EA2OtB;AACDnG,MAAAA,GAAG,EAAE,qBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASuF,mBAAT,CAA6B5B,UAA7B,EAAyChE,GAAzC,EAA8C6F,MAA9C,EAAsDC,QAAtD,EAAgEC,MAAhE,EAAwE;AAC7E,YAAIC,MAAM,GAAG,IAAb;;AAEA,YAAIhB,GAAG,GAAG,KAAKjB,cAAL,CAAoB/D,GAApB,EAAyBgE,UAAzB,EAAqC8B,QAArC,CAAV;;AACA,YAAIvE,GAAG,GAAG,EAAV;AAAA,YACI0E,QAAQ,GAAG,EADf;AAAA,YAEI5B,IAAI,GAAG,KAAK,CAFhB;AAAA,YAGIC,QAAQ,GAAG,KAAK,CAHpB;AAAA,YAII4B,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C,cAAIC,gBAAgB,GAAGH,MAAM,CAACjB,eAAP,CAAuBC,GAAvB,CAAvB;;AAEAV,UAAAA,QAAQ,GAAG6B,gBAAgB,CAAC7B,QAA5B;AACAD,UAAAA,IAAI,GAAG8B,gBAAgB,CAAC9B,IAAxB;AAEA,iBAAOA,IAAP;AACD,SAXD;;AAYA,eAAO6B,aAAa,EAApB,EAAwB;AACtB,cAAI,KAAKjG,OAAT,EAAkB;AAChB,iBAAKoD,aAAL,CAAmBrD,GAAnB,EAAwB,UAAUoF,OAAV,EAAmB;AACzC,qBAAOY,MAAM,CAACb,iBAAP,CAAyBd,IAAzB,EAA+BC,QAA/B,EAAyCc,OAAzC,EAAkD7D,GAAlD,CAAP;AACD,aAFD,EAEG,UAAUuC,GAAV,EAAe;AAChBkC,cAAAA,MAAM,CAAC9B,sBAAP,CAA8BJ,GAA9B,EAAmC6B,WAAnC,CAA+C3B,UAA/C,EAA2D,UAAUoC,OAAV,EAAmB;AAC5E,uBAAOH,QAAQ,CAAC5E,IAAT,CAAc+E,OAAd,CAAP;AACD,eAFD,EAEGN,QAFH;AAGD,aAND;AAOD;;AACDG,UAAAA,QAAQ,CAAC5E,IAAT,CAAcgD,IAAd;AACD;;AACD4B,QAAAA,QAAQ,CAAClF,OAAT,CAAiB,UAAUsD,IAAV,EAAgB;AAC/BwB,UAAAA,MAAM,CAACxB,IAAD,CAAN;AACD,SAFD;;AAGA,YAAI,KAAKpE,OAAT,EAAkB;AAChB,eAAKsF,iBAAL,CAAuBhE,GAAvB,EAA4ByC,UAA5B,EAAwC6B,MAAxC,EAAgDC,QAAhD;AACD;;AACDC,QAAAA,MAAM;AACP;AArCA,KA3OsB,EAiRtB;AACDzG,MAAAA,GAAG,EAAE,aADJ;AAEDe,MAAAA,KAAK,EAAE,SAASsF,WAAT,CAAqB3B,UAArB,EAAiCR,IAAjC,EAAuCvC,MAAvC,EAA+C;AACpD,YAAIoF,MAAM,GAAG,IAAb;;AAEA,YAAInD,IAAI,GAAGvD,SAAS,CAACZ,MAAV,GAAmB,CAAnB,IAAwBY,SAAS,CAAC,CAAD,CAAT,KAAiBO,SAAzC,GAAqDP,SAAS,CAAC,CAAD,CAA9D,GAAoE,YAAY,CAAE,CAA7F;AAEA,YAAIuB,QAAQ,GAAG,KAAKZ,WAAL,EAAf;AACA,YAAIqD,IAAI,GAAGzC,QAAQ,CAACnC,MAApB;;AACA,YAAI,CAAC4E,IAAL,EAAW;AACTT,UAAAA,IAAI;AACL;;AACDhC,QAAAA,QAAQ,CAACH,OAAT,CAAiB,UAAUf,GAAV,EAAe;AAC9B,cAAIsG,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3BD,YAAAA,MAAM,CAACT,mBAAP,CAA2B5B,UAA3B,EAAuChE,GAAvC,EAA4CwD,IAA5C,EAAkDvC,MAAlD,EAA0D,YAAY;AACpE,kBAAI,EAAE0C,IAAF,IAAU,CAAd,EAAiB;AACfT,gBAAAA,IAAI;AACL;AACF,aAJD;AAKD,WAND;;AAOA,cAAImD,MAAM,CAACpG,OAAX,EAAoB;AAClBoG,YAAAA,MAAM,CAACpD,cAAP,CAAsBjD,GAAtB,EAA2BsG,KAA3B;AACD,WAFD,MAEO;AACLA,YAAAA,KAAK;AACN;AACF,SAbD;AAcD;AA1BA,KAjRsB,CAAd,EA4SP,CAAC;AACHhH,MAAAA,GAAG,EAAE,SADF;AAEHe,MAAAA,KAAK,EAAE,SAASwD,OAAT,CAAiB0C,OAAjB,EAA0BC,QAA1B,EAAoC;AACzC,YAAIC,SAAS,GAAG,OAAOD,QAAP,KAAoB,QAApB,GAA+B,CAACA,QAAD,CAA/B,GAA4CA,QAA5D;AAAA,YACIE,EAAE,GAAGH,OAAO,CAAC1C,OAAR,IAAmB0C,OAAO,CAACI,eAA3B,IAA8CJ,OAAO,CAACK,iBAAtD,IAA2EL,OAAO,CAACM,kBAAnF,IAAyGN,OAAO,CAACO,gBAAjH,IAAqIP,OAAO,CAACQ,qBADtJ;;AAEA,YAAIL,EAAJ,EAAQ;AACN,cAAIM,KAAK,GAAG,KAAZ;AACAP,UAAAA,SAAS,CAACQ,KAAV,CAAgB,UAAUC,GAAV,EAAe;AAC7B,gBAAIR,EAAE,CAAC5G,IAAH,CAAQyG,OAAR,EAAiBW,GAAjB,CAAJ,EAA2B;AACzBF,cAAAA,KAAK,GAAG,IAAR;AACA,qBAAO,KAAP;AACD;;AACD,mBAAO,IAAP;AACD,WAND;AAOA,iBAAOA,KAAP;AACD,SAVD,MAUO;AACL,iBAAO,KAAP;AACD;AACF;AAlBE,KAAD,CA5SO,CAAX;AAgUA,WAAOjH,WAAP;AACD,GA9UiB,EAAlB;;AAgVA,MAAIoH,MAAM,GAAG,YAAY;AACvB,aAASpJ,IAAT,CAAciC,GAAd,EAAmB;AACjB1B,MAAAA,cAAc,CAAC,IAAD,EAAOP,IAAP,CAAd;AAEA,WAAKiC,GAAL,GAAWA,GAAX;AACA,WAAKoH,EAAL,GAAU,KAAV;AACA,UAAIC,EAAE,GAAGC,MAAM,CAACC,SAAP,CAAiBC,SAA1B;;AACA,UAAIH,EAAE,CAACjG,OAAH,CAAW,MAAX,IAAqB,CAAC,CAAtB,IAA2BiG,EAAE,CAACjG,OAAH,CAAW,SAAX,IAAwB,CAAC,CAAxD,EAA2D;AACzD,aAAKgG,EAAL,GAAU,IAAV;AACD;AACF;;AAED1I,IAAAA,WAAW,CAACX,IAAD,EAAO,CAAC;AACjBuB,MAAAA,GAAG,EAAE,KADY;AAEjBe,MAAAA,KAAK,EAAE,SAASoH,GAAT,CAAaC,GAAb,EAAkB;AACvB,YAAIC,KAAK,GAAGhI,SAAS,CAACZ,MAAV,GAAmB,CAAnB,IAAwBY,SAAS,CAAC,CAAD,CAAT,KAAiBO,SAAzC,GAAqDP,SAAS,CAAC,CAAD,CAA9D,GAAoE,OAAhF;AAEA,YAAI8H,GAAG,GAAG,KAAKG,GAAL,CAASH,GAAnB;;AACA,YAAI,CAAC,KAAKG,GAAL,CAASC,KAAd,EAAqB;AACnB;AACD;;AACD,YAAI,CAAC,OAAOJ,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CzJ,OAAO,CAACyJ,GAAD,CAAnD,MAA8D,QAA9D,IAA0E,OAAOA,GAAG,CAACE,KAAD,CAAV,KAAsB,UAApG,EAAgH;AAC9GF,UAAAA,GAAG,CAACE,KAAD,CAAH,CAAW,cAAcD,GAAzB;AACD;AACF;AAZgB,KAAD,EAaf;AACDpI,MAAAA,GAAG,EAAE,WADJ;AAEDe,MAAAA,KAAK,EAAE,SAASyH,SAAT,CAAmBC,GAAnB,EAAwB;AAC7B,eAAOA,GAAG,CAACC,OAAJ,CAAY,qCAAZ,EAAmD,MAAnD,CAAP;AACD;AAJA,KAbe,EAkBf;AACD1I,MAAAA,GAAG,EAAE,cADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS4H,YAAT,CAAsBF,GAAtB,EAA2B;AAChC,YAAI,KAAKH,GAAL,CAASM,SAAT,KAAuB,UAA3B,EAAuC;AACrCH,UAAAA,GAAG,GAAG,KAAKI,oBAAL,CAA0BJ,GAA1B,CAAN;AACD;;AACDA,QAAAA,GAAG,GAAG,KAAKD,SAAL,CAAeC,GAAf,CAAN;;AACA,YAAI3I,MAAM,CAACgJ,IAAP,CAAY,KAAKR,GAAL,CAASS,QAArB,EAA+BtJ,MAAnC,EAA2C;AACzCgJ,UAAAA,GAAG,GAAG,KAAKO,oBAAL,CAA0BP,GAA1B,CAAN;AACD;;AACD,YAAI,KAAKH,GAAL,CAASW,aAAT,IAA0B,KAAKX,GAAL,CAASY,iBAAT,CAA2BzJ,MAAzD,EAAiE;AAC/DgJ,UAAAA,GAAG,GAAG,KAAKU,wBAAL,CAA8BV,GAA9B,CAAN;AACD;;AACD,YAAI,KAAKH,GAAL,CAASc,UAAb,EAAyB;AACvBX,UAAAA,GAAG,GAAG,KAAKY,sBAAL,CAA4BZ,GAA5B,CAAN;AACD;;AACDA,QAAAA,GAAG,GAAG,KAAKa,wBAAL,CAA8Bb,GAA9B,CAAN;;AACA,YAAI,KAAKH,GAAL,CAASW,aAAT,IAA0B,KAAKX,GAAL,CAASY,iBAAT,CAA2BzJ,MAAzD,EAAiE;AAC/DgJ,UAAAA,GAAG,GAAG,KAAKc,mBAAL,CAAyBd,GAAzB,CAAN;AACD;;AACD,YAAI,KAAKH,GAAL,CAASM,SAAT,KAAuB,UAA3B,EAAuC;AACrCH,UAAAA,GAAG,GAAG,KAAKe,qBAAL,CAA2Bf,GAA3B,CAAN;AACD;;AACDA,QAAAA,GAAG,GAAG,KAAKgB,oBAAL,CAA0BhB,GAA1B,CAAN;AACA,eAAOA,GAAP;AACD;AAzBA,KAlBe,EA4Cf;AACDzI,MAAAA,GAAG,EAAE,sBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASiI,oBAAT,CAA8BP,GAA9B,EAAmC;AACxC,YAAIiB,GAAG,GAAG,KAAKpB,GAAL,CAASS,QAAnB;AAAA,YACIY,IAAI,GAAG,KAAKrB,GAAL,CAASsB,aAAT,GAAyB,EAAzB,GAA8B,GADzC;AAAA,YAEIC,iBAAiB,GAAG,KAAKvB,GAAL,CAASW,aAAT,IAA0B,KAAKX,GAAL,CAASY,iBAAT,CAA2BzJ,MAArD,GAA8D,IAA9D,GAAqE,EAF7F;;AAGA,aAAK,IAAIqK,KAAT,IAAkBJ,GAAlB,EAAuB;AACrB,cAAIA,GAAG,CAACnJ,cAAJ,CAAmBuJ,KAAnB,CAAJ,EAA+B;AAC7B,gBAAI/I,KAAK,GAAG2I,GAAG,CAACI,KAAD,CAAf;AAAA,gBACIC,EAAE,GAAG,KAAKzB,GAAL,CAASM,SAAT,KAAuB,UAAvB,GAAoC,KAAKC,oBAAL,CAA0BiB,KAA1B,CAApC,GAAuE,KAAKtB,SAAL,CAAesB,KAAf,CADhF;AAAA,gBAEIE,EAAE,GAAG,KAAK1B,GAAL,CAASM,SAAT,KAAuB,UAAvB,GAAoC,KAAKC,oBAAL,CAA0B9H,KAA1B,CAApC,GAAuE,KAAKyH,SAAL,CAAezH,KAAf,CAFhF;;AAGA,gBAAIgJ,EAAE,KAAK,EAAP,IAAaC,EAAE,KAAK,EAAxB,EAA4B;AAC1BvB,cAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,IAAIuB,MAAJ,CAAW,MAAM,KAAKzB,SAAL,CAAeuB,EAAf,CAAN,GAA2B,GAA3B,GAAiC,KAAKvB,SAAL,CAAewB,EAAf,CAAjC,GAAsD,GAAjE,EAAsE,OAAOL,IAA7E,CAAZ,EAAgGE,iBAAiB,IAAI,MAAM,KAAKK,eAAL,CAAqBH,EAArB,CAAN,GAAiC,GAArC,CAAjB,IAA8D,KAAKG,eAAL,CAAqBF,EAArB,IAA2B,GAAzF,IAAgGH,iBAAhM,CAAN;AACD;AACF;AACF;;AACD,eAAOpB,GAAP;AACD;AAjBA,KA5Ce,EA8Df;AACDzI,MAAAA,GAAG,EAAE,iBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASmJ,eAAT,CAAyBzB,GAAzB,EAA8B;AACnC,YAAI,KAAKH,GAAL,CAASW,aAAT,IAA0B,KAAKX,GAAL,CAASY,iBAAT,CAA2BzJ,MAAzD,EAAiE;AAC/DgJ,UAAAA,GAAG,GAAG,KAAKU,wBAAL,CAA8BV,GAA9B,CAAN;AACD;;AACD,eAAOA,GAAP;AACD;AAPA,KA9De,EAsEf;AACDzI,MAAAA,GAAG,EAAE,sBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS8H,oBAAT,CAA8BJ,GAA9B,EAAmC;AACxCA,QAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,UAAU1C,GAAV,EAAe;AAC7C,iBAAOA,GAAG,CAACmE,MAAJ,CAAW,CAAX,MAAkB,IAAlB,GAAyB,GAAzB,GAA+B,MAAtC;AACD,SAFK,CAAN;AAGA,eAAO1B,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,UAAU1C,GAAV,EAAe;AAC9C,iBAAOA,GAAG,CAACmE,MAAJ,CAAW,CAAX,MAAkB,IAAlB,GAAyB,GAAzB,GAA+B,MAAtC;AACD,SAFM,CAAP;AAGD;AATA,KAtEe,EAgFf;AACDnK,MAAAA,GAAG,EAAE,uBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASyI,qBAAT,CAA+Bf,GAA/B,EAAoC;AACzC,YAAI2B,MAAM,GAAG,KAAK9B,GAAL,CAASM,SAAT,KAAuB,YAApC;AACA,eAAOH,GAAG,CAACC,OAAJ,CAAY,SAAZ,EAAuB0B,MAAM,GAAG,WAAH,GAAiB,MAA9C,EAAsD1B,OAAtD,CAA8D,SAA9D,EAAyE0B,MAAM,GAAG,YAAH,GAAkB,MAAjG,CAAP;AACD;AALA,KAhFe,EAsFf;AACDpK,MAAAA,GAAG,EAAE,0BADJ;AAEDe,MAAAA,KAAK,EAAE,SAASoI,wBAAT,CAAkCV,GAAlC,EAAuC;AAC5C,eAAOA,GAAG,CAACC,OAAJ,CAAY,WAAZ,EAAyB,UAAU1C,GAAV,EAAeqE,IAAf,EAAqBC,QAArB,EAA+B;AAC7D,cAAIC,QAAQ,GAAGD,QAAQ,CAACH,MAAT,CAAgBE,IAAI,GAAG,CAAvB,CAAf;;AACA,cAAI,UAAUG,IAAV,CAAeD,QAAf,KAA4BA,QAAQ,KAAK,EAA7C,EAAiD;AAC/C,mBAAOvE,GAAP;AACD,WAFD,MAEO;AACL,mBAAOA,GAAG,GAAG,IAAb;AACD;AACF,SAPM,CAAP;AAQD;AAXA,KAtFe,EAkGf;AACDhG,MAAAA,GAAG,EAAE,qBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASwI,mBAAT,CAA6Bd,GAA7B,EAAkC;AACvC,YAAIgC,MAAM,GAAG,EAAb;AACA,YAAIvB,iBAAiB,GAAG,KAAKZ,GAAL,CAASY,iBAAjC;;AACA,YAAI9H,KAAK,CAACE,OAAN,CAAc4H,iBAAd,KAAoCA,iBAAiB,CAACzJ,MAA1D,EAAkE;AAChEgL,UAAAA,MAAM,CAAC1I,IAAP,CAAY,KAAKyG,SAAL,CAAeU,iBAAiB,CAACwB,IAAlB,CAAuB,EAAvB,CAAf,CAAZ;AACD;;AACD,YAAI,KAAKpC,GAAL,CAASW,aAAb,EAA4B;AAC1BwB,UAAAA,MAAM,CAAC1I,IAAP,CAAY,8BAAZ;AACD;;AACD,eAAO0I,MAAM,CAAChL,MAAP,GAAgBgJ,GAAG,CAACkC,KAAJ,CAAU,SAAV,EAAqBD,IAArB,CAA0B,MAAMD,MAAM,CAACC,IAAP,CAAY,EAAZ,CAAN,GAAwB,IAAlD,CAAhB,GAA0EjC,GAAjF;AACD;AAZA,KAlGe,EA+Gf;AACDzI,MAAAA,GAAG,EAAE,wBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASsI,sBAAT,CAAgCZ,GAAhC,EAAqC;AAC1C,YAAIkB,IAAI,GAAG,KAAKrB,GAAL,CAASsB,aAAT,GAAyB,EAAzB,GAA8B,GAAzC;AAAA,YACIgB,GAAG,GAAG,KAAKtC,GAAL,CAASsB,aAAT,GAAyB,CAAC,wBAAD,EAA2B,wBAA3B,EAAqD,MAArD,EAA6D,MAA7D,EAAqE,KAArE,EAA4E,KAA5E,EAAmF,kBAAnF,EAAuG,kBAAvG,EAA2H,WAA3H,EAAwI,WAAxI,EAAqJ,IAArJ,EAA2J,IAA3J,EAAiK,MAAjK,EAAyK,MAAzK,EAAiL,uBAAjL,EAA0M,uBAA1M,EAAmO,IAAnO,EAAyO,IAAzO,EAA+O,OAA/O,EAAwP,OAAxP,EAAiQ,MAAjQ,EAAyQ,MAAzQ,EAAiR,kBAAjR,EAAqS,kBAArS,EAAyT,SAAzT,EAAoU,SAApU,EAA+U,MAA/U,EAAuV,MAAvV,CAAzB,GAA0X,CAAC,8CAAD,EAAiD,UAAjD,EAA6D,QAA7D,EAAuE,kCAAvE,EAA2G,oBAA3G,EAAiI,MAAjI,EAAyI,UAAzI,EAAqJ,4CAArJ,EAAmM,MAAnM,EAA2M,YAA3M,EAAyN,UAAzN,EAAqO,kCAArO,EAAyQ,gBAAzQ,EAA2R,UAA3R,CADpY;AAEA,YAAI3F,OAAO,GAAG,EAAd;AACAwE,QAAAA,GAAG,CAACkC,KAAJ,CAAU,EAAV,EAAclJ,OAAd,CAAsB,UAAUoJ,EAAV,EAAc;AAClCD,UAAAA,GAAG,CAACjD,KAAJ,CAAU,UAAUiD,GAAV,EAAe;AACvB,gBAAIA,GAAG,CAAC9I,OAAJ,CAAY+I,EAAZ,MAAoB,CAAC,CAAzB,EAA4B;AAC1B,kBAAI5G,OAAO,CAACnC,OAAR,CAAgB8I,GAAhB,IAAuB,CAAC,CAA5B,EAA+B;AAC7B,uBAAO,KAAP;AACD;;AACDnC,cAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,IAAIuB,MAAJ,CAAW,MAAMW,GAAN,GAAY,GAAvB,EAA4B,OAAOjB,IAAnC,CAAZ,EAAsD,MAAMiB,GAAN,GAAY,GAAlE,CAAN;AACA3G,cAAAA,OAAO,CAAClC,IAAR,CAAa6I,GAAb;AACD;;AACD,mBAAO,IAAP;AACD,WATD;AAUD,SAXD;AAYA,eAAOnC,GAAP;AACD;AAnBA,KA/Ge,EAmIf;AACDzI,MAAAA,GAAG,EAAE,0BADJ;AAEDe,MAAAA,KAAK,EAAE,SAASuI,wBAAT,CAAkCb,GAAlC,EAAuC;AAC5C,eAAOA,GAAG,CAACC,OAAJ,CAAY,UAAZ,EAAwB,QAAxB,CAAP;AACD;AAJA,KAnIe,EAwIf;AACD1I,MAAAA,GAAG,EAAE,sBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS0I,oBAAT,CAA8BhB,GAA9B,EAAmC;AACxC,YAAIxF,KAAK,GAAG,IAAZ;;AAEA,YAAI6H,KAAK,GAAG,sCAAZ;AACA,YAAIC,GAAG,GAAG,KAAKzC,GAAL,CAAS0C,QAAnB;AAAA,YACIhF,GAAG,GAAG,OAAO+E,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgCA,GAAG,CAAChK,KAD9C;AAAA,YAEIkK,EAAE,GAAG,OAAOF,GAAP,KAAe,QAAf,GAA0B,EAA1B,GAA+BA,GAAG,CAACG,QAF5C;AAAA,YAGIC,MAAM,GAAG,EAHb;AAIAF,QAAAA,EAAE,CAACxJ,OAAH,CAAW,UAAU2J,OAAV,EAAmB;AAC5BD,UAAAA,MAAM,IAAI,MAAMlI,KAAK,CAACuF,SAAN,CAAgB4C,OAAhB,CAAhB;AACD,SAFD;;AAGA,gBAAQpF,GAAR;AACE,eAAK,WAAL;AACA;AACE,mBAAO,QAAQyC,GAAR,GAAc,GAArB;;AACF,eAAK,eAAL;AACE0C,YAAAA,MAAM,GAAG,SAASA,MAAM,GAAGA,MAAH,GAAY,KAAK3C,SAAL,CAAesC,KAAf,CAA3B,CAAT;AACA,mBAAO,UAAUK,MAAV,GAAmB,IAAnB,GAA0B1C,GAA1B,GAAgC,IAAhC,GAAuC0C,MAAvC,GAAgD,KAAvD;;AACF,eAAK,SAAL;AACE,mBAAO,WAAWA,MAAX,GAAoB,IAApB,GAA2B1C,GAA3B,GAAiC,WAAjC,GAA+C0C,MAA/C,GAAwD,GAA/D;AARJ;AAUD;AAvBA,KAxIe,EAgKf;AACDnL,MAAAA,GAAG,EAAE,sBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASsK,oBAAT,CAA8BC,EAA9B,EAAkC;AACvC,YAAIzH,MAAM,GAAG,IAAb;;AAEA,YAAI0H,KAAK,GAAG,EAAZ;AACAD,QAAAA,EAAE,CAAC7J,OAAH,CAAW,UAAU+J,EAAV,EAAc;AACvB,cAAI,CAAC3H,MAAM,CAACyE,GAAP,CAAWmD,kBAAhB,EAAoC;AAClC,gBAAID,EAAE,CAAC3I,IAAH,MAAa0I,KAAK,CAACzJ,OAAN,CAAc0J,EAAd,MAAsB,CAAC,CAAxC,EAA2C;AACzCD,cAAAA,KAAK,CAACxJ,IAAN,CAAWyJ,EAAX;AACD;AACF,WAJD,MAIO;AACLA,YAAAA,EAAE,CAACb,KAAH,CAAS,GAAT,EAAclJ,OAAd,CAAsB,UAAUiK,UAAV,EAAsB;AAC1C,kBAAIA,UAAU,CAAC7I,IAAX,MAAqB0I,KAAK,CAACzJ,OAAN,CAAc4J,UAAd,MAA8B,CAAC,CAAxD,EAA2D;AACzDH,gBAAAA,KAAK,CAACxJ,IAAN,CAAW2J,UAAX;AACD;AACF,aAJD;AAKD;AACF,SAZD;AAaA,eAAO;AACL,sBAAYH,KAAK,CAACI,IAAN,CAAW,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACrC,mBAAOA,CAAC,CAACpM,MAAF,GAAWmM,CAAC,CAACnM,MAApB;AACD,WAFW,CADP;AAIL,oBAAU8L,KAAK,CAAC9L;AAJX,SAAP;AAMD;AAzBA,KAhKe,EA0Lf;AACDO,MAAAA,GAAG,EAAE,WADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS+K,SAAT,CAAmB/K,KAAnB,EAA0B;AAC/B,eAAOgL,MAAM,CAACC,UAAU,CAACjL,KAAD,CAAX,CAAN,IAA6BA,KAApC;AACD;AAJA,KA1Le,EA+Lf;AACDf,MAAAA,GAAG,EAAE,aADJ;AAEDe,MAAAA,KAAK,EAAE,SAASkL,WAAT,CAAqBC,KAArB,EAA4B;AACjC,YAAI/H,MAAM,GAAG,IAAb;;AAEA,YAAI,CAAC/C,KAAK,CAACE,OAAN,CAAc4K,KAAd,CAAD,IAAyBpM,MAAM,CAACf,SAAP,CAAiBoN,QAAjB,CAA0B3L,IAA1B,CAA+B0L,KAAK,CAAC,CAAD,CAApC,MAA6C,iBAA1E,EAA6F;AAC3F,eAAK/D,GAAL,CAAS,mDAAT;AACA,eAAKG,GAAL,CAAS8D,OAAT,CAAiBF,KAAjB;AACA,iBAAO,EAAP;AACD;;AACD,YAAIX,KAAK,GAAG,EAAZ;AACA,YAAIc,IAAI,GAAG,CAAX;AACAH,QAAAA,KAAK,CAACP,IAAN,CAAW,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACzB,iBAAOD,CAAC,CAACU,KAAF,GAAUT,CAAC,CAACS,KAAnB;AACD,SAFD,EAEG7K,OAFH,CAEW,UAAU8K,IAAV,EAAgB;AACzB,cAAIC,qBAAqB,GAAGrI,MAAM,CAACsI,0BAAP,CAAkCF,IAAlC,EAAwCF,IAAxC,CAA5B;AAAA,cACIC,KAAK,GAAGE,qBAAqB,CAACF,KADlC;AAAA,cAEIlI,GAAG,GAAGoI,qBAAqB,CAACpI,GAFhC;AAAA,cAGIsI,KAAK,GAAGF,qBAAqB,CAACE,KAHlC;;AAKA,cAAIA,KAAJ,EAAW;AACTH,YAAAA,IAAI,CAACD,KAAL,GAAaA,KAAb;AACAC,YAAAA,IAAI,CAAC9M,MAAL,GAAc2E,GAAG,GAAGkI,KAApB;AACAf,YAAAA,KAAK,CAACxJ,IAAN,CAAWwK,IAAX;AACAF,YAAAA,IAAI,GAAGjI,GAAP;AACD;AACF,SAdD;AAeA,eAAOmH,KAAP;AACD;AA5BA,KA/Le,EA4Nf;AACDvL,MAAAA,GAAG,EAAE,4BADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS0L,0BAAT,CAAoCE,KAApC,EAA2CN,IAA3C,EAAiD;AACtD,YAAIC,KAAK,GAAG,KAAK,CAAjB;AAAA,YACIlI,GAAG,GAAG,KAAK,CADf;AAAA,YAEIsI,KAAK,GAAG,KAFZ;;AAGA,YAAIC,KAAK,IAAI,OAAOA,KAAK,CAACL,KAAb,KAAuB,WAApC,EAAiD;AAC/CA,UAAAA,KAAK,GAAGM,QAAQ,CAACD,KAAK,CAACL,KAAP,EAAc,EAAd,CAAhB;AACAlI,UAAAA,GAAG,GAAGkI,KAAK,GAAGM,QAAQ,CAACD,KAAK,CAAClN,MAAP,EAAe,EAAf,CAAtB;;AACA,cAAI,KAAKqM,SAAL,CAAea,KAAK,CAACL,KAArB,KAA+B,KAAKR,SAAL,CAAea,KAAK,CAAClN,MAArB,CAA/B,IAA+D2E,GAAG,GAAGiI,IAAN,GAAa,CAA5E,IAAiFjI,GAAG,GAAGkI,KAAN,GAAc,CAAnG,EAAsG;AACpGI,YAAAA,KAAK,GAAG,IAAR;AACD,WAFD,MAEO;AACL,iBAAKvE,GAAL,CAAS,6CAA6C,KAAK0E,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAlD,CAAT;AACA,iBAAKrE,GAAL,CAAS8D,OAAT,CAAiBO,KAAjB;AACD;AACF,SATD,MASO;AACL,eAAKxE,GAAL,CAAS,6BAA6B0E,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAtC;AACA,eAAKrE,GAAL,CAAS8D,OAAT,CAAiBO,KAAjB;AACD;;AACD,eAAO;AACLL,UAAAA,KAAK,EAAEA,KADF;AAELlI,UAAAA,GAAG,EAAEA,GAFA;AAGLsI,UAAAA,KAAK,EAAEA;AAHF,SAAP;AAKD;AAxBA,KA5Ne,EAqPf;AACD1M,MAAAA,GAAG,EAAE,uBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASgM,qBAAT,CAA+BJ,KAA/B,EAAsCK,cAAtC,EAAsDC,MAAtD,EAA8D;AACnE,YAAI7I,GAAG,GAAG,KAAK,CAAf;AAAA,YACIsI,KAAK,GAAG,IADZ;AAAA,YAEIQ,GAAG,GAAGD,MAAM,CAACxN,MAFjB;AAAA,YAGI0N,MAAM,GAAGH,cAAc,GAAGE,GAH9B;AAAA,YAIIZ,KAAK,GAAGM,QAAQ,CAACD,KAAK,CAACL,KAAP,EAAc,EAAd,CAAR,GAA4Ba,MAJxC;AAKAb,QAAAA,KAAK,GAAGA,KAAK,GAAGY,GAAR,GAAcA,GAAd,GAAoBZ,KAA5B;AACAlI,QAAAA,GAAG,GAAGkI,KAAK,GAAGM,QAAQ,CAACD,KAAK,CAAClN,MAAP,EAAe,EAAf,CAAtB;;AACA,YAAI2E,GAAG,GAAG8I,GAAV,EAAe;AACb9I,UAAAA,GAAG,GAAG8I,GAAN;AACA,eAAK/E,GAAL,CAAS,qDAAqD+E,GAA9D;AACD;;AACD,YAAIZ,KAAK,GAAG,CAAR,IAAalI,GAAG,GAAGkI,KAAN,GAAc,CAA3B,IAAgCA,KAAK,GAAGY,GAAxC,IAA+C9I,GAAG,GAAG8I,GAAzD,EAA8D;AAC5DR,UAAAA,KAAK,GAAG,KAAR;AACA,eAAKvE,GAAL,CAAS,oBAAoB0E,IAAI,CAACC,SAAL,CAAeH,KAAf,CAA7B;AACA,eAAKrE,GAAL,CAAS8D,OAAT,CAAiBO,KAAjB;AACD,SAJD,MAIO,IAAIM,MAAM,CAACG,SAAP,CAAiBd,KAAjB,EAAwBlI,GAAxB,EAA6BsE,OAA7B,CAAqC,MAArC,EAA6C,EAA7C,MAAqD,EAAzD,EAA6D;AAClEgE,UAAAA,KAAK,GAAG,KAAR;AACA,eAAKvE,GAAL,CAAS,qCAAqC0E,IAAI,CAACC,SAAL,CAAeH,KAAf,CAA9C;AACA,eAAKrE,GAAL,CAAS8D,OAAT,CAAiBO,KAAjB;AACD;;AACD,eAAO;AACLL,UAAAA,KAAK,EAAEA,KADF;AAELlI,UAAAA,GAAG,EAAEA,GAFA;AAGLsI,UAAAA,KAAK,EAAEA;AAHF,SAAP;AAKD;AA5BA,KArPe,EAkRf;AACD1M,MAAAA,GAAG,EAAE,cADJ;AAEDe,MAAAA,KAAK,EAAE,SAASsM,YAAT,CAAsBC,EAAtB,EAA0B;AAC/B,YAAIlH,MAAM,GAAG,IAAb;;AAEA,YAAIJ,GAAG,GAAG,EAAV;AAAA,YACIuH,KAAK,GAAG,EADZ;AAEA,aAAK3O,QAAL,CAAcyH,WAAd,CAA0BmH,UAAU,CAACC,SAArC,EAAgD,UAAU1I,IAAV,EAAgB;AAC9DwI,UAAAA,KAAK,CAACxL,IAAN,CAAW;AACTuK,YAAAA,KAAK,EAAEtG,GAAG,CAACvG,MADF;AAET2E,YAAAA,GAAG,EAAE,CAAC4B,GAAG,IAAIjB,IAAI,CAAC2I,WAAb,EAA0BjO,MAFtB;AAGTsF,YAAAA,IAAI,EAAEA;AAHG,WAAX;AAKD,SAND,EAMG,UAAUA,IAAV,EAAgB;AACjB,cAAIqB,MAAM,CAACuH,cAAP,CAAsB5I,IAAI,CAAC6I,UAA3B,CAAJ,EAA4C;AAC1C,mBAAOJ,UAAU,CAACK,aAAlB;AACD,WAFD,MAEO;AACL,mBAAOL,UAAU,CAACM,aAAlB;AACD;AACF,SAZD,EAYG,YAAY;AACbR,UAAAA,EAAE,CAAC;AACDvM,YAAAA,KAAK,EAAEiF,GADN;AAEDuH,YAAAA,KAAK,EAAEA;AAFN,WAAD,CAAF;AAID,SAjBD;AAkBD;AAzBA,KAlRe,EA4Sf;AACDvN,MAAAA,GAAG,EAAE,gBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS4M,cAAT,CAAwBI,EAAxB,EAA4B;AACjC,eAAOtN,WAAW,CAAC8D,OAAZ,CAAoBwJ,EAApB,EAAwB,KAAKzF,GAAL,CAASzH,OAAT,CAAiBmN,MAAjB,CAAwB,CAAC,QAAD,EAAW,OAAX,EAAoB,OAApB,EAA6B,MAA7B,EAAqC,MAArC,CAAxB,CAAxB,CAAP;AACD;AAJA,KA5Se,EAiTf;AACDhO,MAAAA,GAAG,EAAE,qBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASkN,mBAAT,CAA6BlJ,IAA7B,EAAmCuH,KAAnC,EAA0ClI,GAA1C,EAA+C;AACpD,YAAI8J,GAAG,GAAG,CAAC,KAAK5F,GAAL,CAASrB,OAAV,GAAoB,MAApB,GAA6B,KAAKqB,GAAL,CAASrB,OAAhD;AAAA,YACIkH,SAAS,GAAGpJ,IAAI,CAACqJ,SAAL,CAAe9B,KAAf,CADhB;AAAA,YAEI+B,GAAG,GAAGF,SAAS,CAACC,SAAV,CAAoBhK,GAAG,GAAGkI,KAA1B,CAFV;AAGA,YAAIgC,IAAI,GAAG/M,QAAQ,CAACgN,aAAT,CAAuBL,GAAvB,CAAX;AACAI,QAAAA,IAAI,CAACE,YAAL,CAAkB,aAAlB,EAAiC,MAAjC;;AACA,YAAI,KAAKlG,GAAL,CAASmG,SAAb,EAAwB;AACtBH,UAAAA,IAAI,CAACE,YAAL,CAAkB,OAAlB,EAA2B,KAAKlG,GAAL,CAASmG,SAApC;AACD;;AACDH,QAAAA,IAAI,CAACZ,WAAL,GAAmBS,SAAS,CAACT,WAA7B;AACAS,QAAAA,SAAS,CAACP,UAAV,CAAqBc,YAArB,CAAkCJ,IAAlC,EAAwCH,SAAxC;AACA,eAAOE,GAAP;AACD;AAdA,KAjTe,EAgUf;AACDrO,MAAAA,GAAG,EAAE,2BADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS4N,yBAAT,CAAmCC,IAAnC,EAAyCtC,KAAzC,EAAgDlI,GAAhD,EAAqDoC,QAArD,EAA+DD,MAA/D,EAAuE;AAC5E,YAAIG,MAAM,GAAG,IAAb;;AAEAkI,QAAAA,IAAI,CAACrB,KAAL,CAAW5F,KAAX,CAAiB,UAAUkH,CAAV,EAAarP,CAAb,EAAgB;AAC/B,cAAIsP,IAAI,GAAGF,IAAI,CAACrB,KAAL,CAAW/N,CAAC,GAAG,CAAf,CAAX;;AACA,cAAI,OAAOsP,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACxC,KAAL,GAAaA,KAAhD,EAAuD;AACrD,gBAAI,CAAC9F,QAAQ,CAACqI,CAAC,CAAC9J,IAAH,CAAb,EAAuB;AACrB,qBAAO,KAAP;AACD;;AACD,gBAAIgK,CAAC,GAAGzC,KAAK,GAAGuC,CAAC,CAACvC,KAAlB;AAAA,gBACI9J,CAAC,GAAG,CAAC4B,GAAG,GAAGyK,CAAC,CAACzK,GAAR,GAAcyK,CAAC,CAACzK,GAAhB,GAAsBA,GAAvB,IAA8ByK,CAAC,CAACvC,KADxC;AAAA,gBAEI0C,QAAQ,GAAGJ,IAAI,CAAC7N,KAAL,CAAWkO,MAAX,CAAkB,CAAlB,EAAqBJ,CAAC,CAACvC,KAAvB,CAFf;AAAA,gBAGI4C,MAAM,GAAGN,IAAI,CAAC7N,KAAL,CAAWkO,MAAX,CAAkBzM,CAAC,GAAGqM,CAAC,CAACvC,KAAxB,CAHb;AAIAuC,YAAAA,CAAC,CAAC9J,IAAF,GAAS2B,MAAM,CAACuH,mBAAP,CAA2BY,CAAC,CAAC9J,IAA7B,EAAmCgK,CAAnC,EAAsCvM,CAAtC,CAAT;AACAoM,YAAAA,IAAI,CAAC7N,KAAL,GAAaiO,QAAQ,GAAGE,MAAxB;AACAN,YAAAA,IAAI,CAACrB,KAAL,CAAW9L,OAAX,CAAmB,UAAU0N,CAAV,EAAaC,CAAb,EAAgB;AACjC,kBAAIA,CAAC,IAAI5P,CAAT,EAAY;AACV,oBAAIoP,IAAI,CAACrB,KAAL,CAAW6B,CAAX,EAAc9C,KAAd,GAAsB,CAAtB,IAA2B8C,CAAC,KAAK5P,CAArC,EAAwC;AACtCoP,kBAAAA,IAAI,CAACrB,KAAL,CAAW6B,CAAX,EAAc9C,KAAd,IAAuB9J,CAAvB;AACD;;AACDoM,gBAAAA,IAAI,CAACrB,KAAL,CAAW6B,CAAX,EAAchL,GAAd,IAAqB5B,CAArB;AACD;AACF,aAPD;AAQA4B,YAAAA,GAAG,IAAI5B,CAAP;AACA+D,YAAAA,MAAM,CAACsI,CAAC,CAAC9J,IAAF,CAAOsK,eAAR,EAAyBR,CAAC,CAACvC,KAA3B,CAAN;;AACA,gBAAIlI,GAAG,GAAGyK,CAAC,CAACzK,GAAZ,EAAiB;AACfkI,cAAAA,KAAK,GAAGuC,CAAC,CAACzK,GAAV;AACD,aAFD,MAEO;AACL,qBAAO,KAAP;AACD;AACF;;AACD,iBAAO,IAAP;AACD,SA7BD;AA8BD;AAnCA,KAhUe,EAoWf;AACDpE,MAAAA,GAAG,EAAE,aADJ;AAEDe,MAAAA,KAAK,EAAE,SAASuO,WAAT,CAAqBC,KAArB,EAA4BC,YAA5B,EAA0ChJ,QAA1C,EAAoDD,MAApD,EAA4DkJ,KAA5D,EAAmE;AACxE,YAAI1I,MAAM,GAAG,IAAb;;AAEA,YAAI2I,QAAQ,GAAGF,YAAY,KAAK,CAAjB,GAAqB,CAArB,GAAyBA,YAAY,GAAG,CAAvD;AACA,aAAKnC,YAAL,CAAkB,UAAUuB,IAAV,EAAgB;AAChCA,UAAAA,IAAI,CAACrB,KAAL,CAAW9L,OAAX,CAAmB,UAAUsD,IAAV,EAAgB;AACjCA,YAAAA,IAAI,GAAGA,IAAI,CAACA,IAAZ;AACA,gBAAI2C,KAAK,GAAG,KAAK,CAAjB;;AACA,mBAAO,CAACA,KAAK,GAAG6H,KAAK,CAACI,IAAN,CAAW5K,IAAI,CAAC2I,WAAhB,CAAT,MAA2C,IAA3C,IAAmDhG,KAAK,CAACgI,QAAD,CAAL,KAAoB,EAA9E,EAAkF;AAChF,kBAAI,CAAClJ,QAAQ,CAACkB,KAAK,CAACgI,QAAD,CAAN,EAAkB3K,IAAlB,CAAb,EAAsC;AACpC;AACD;;AACD,kBAAI6K,GAAG,GAAGlI,KAAK,CAACoC,KAAhB;;AACA,kBAAI4F,QAAQ,KAAK,CAAjB,EAAoB;AAClB,qBAAK,IAAIlQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkQ,QAApB,EAA8BlQ,CAAC,EAA/B,EAAmC;AACjCoQ,kBAAAA,GAAG,IAAIlI,KAAK,CAAClI,CAAD,CAAL,CAASC,MAAhB;AACD;AACF;;AACDsF,cAAAA,IAAI,GAAGgC,MAAM,CAACkH,mBAAP,CAA2BlJ,IAA3B,EAAiC6K,GAAjC,EAAsCA,GAAG,GAAGlI,KAAK,CAACgI,QAAD,CAAL,CAAgBjQ,MAA5D,CAAP;AACA8G,cAAAA,MAAM,CAACxB,IAAI,CAACsK,eAAN,CAAN;AACAE,cAAAA,KAAK,CAACM,SAAN,GAAkB,CAAlB;AACD;AACF,WAjBD;AAkBAJ,UAAAA,KAAK;AACN,SApBD;AAqBD;AA3BA,KApWe,EAgYf;AACDzP,MAAAA,GAAG,EAAE,2BADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS+O,yBAAT,CAAmCP,KAAnC,EAA0CC,YAA1C,EAAwDhJ,QAAxD,EAAkED,MAAlE,EAA0EkJ,KAA1E,EAAiF;AACtF,YAAIM,MAAM,GAAG,IAAb;;AAEA,YAAIL,QAAQ,GAAGF,YAAY,KAAK,CAAjB,GAAqB,CAArB,GAAyBA,YAAY,GAAG,CAAvD;AACA,aAAKnC,YAAL,CAAkB,UAAUuB,IAAV,EAAgB;AAChC,cAAIlH,KAAK,GAAG,KAAK,CAAjB;;AACA,iBAAO,CAACA,KAAK,GAAG6H,KAAK,CAACI,IAAN,CAAWf,IAAI,CAAC7N,KAAhB,CAAT,MAAqC,IAArC,IAA6C2G,KAAK,CAACgI,QAAD,CAAL,KAAoB,EAAxE,EAA4E;AAC1E,gBAAIpD,KAAK,GAAG5E,KAAK,CAACoC,KAAlB;;AACA,gBAAI4F,QAAQ,KAAK,CAAjB,EAAoB;AAClB,mBAAK,IAAIlQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkQ,QAApB,EAA8BlQ,CAAC,EAA/B,EAAmC;AACjC8M,gBAAAA,KAAK,IAAI5E,KAAK,CAAClI,CAAD,CAAL,CAASC,MAAlB;AACD;AACF;;AACD,gBAAI2E,GAAG,GAAGkI,KAAK,GAAG5E,KAAK,CAACgI,QAAD,CAAL,CAAgBjQ,MAAlC;;AACAsQ,YAAAA,MAAM,CAACpB,yBAAP,CAAiCC,IAAjC,EAAuCtC,KAAvC,EAA8ClI,GAA9C,EAAmD,UAAUW,IAAV,EAAgB;AACjE,qBAAOyB,QAAQ,CAACkB,KAAK,CAACgI,QAAD,CAAN,EAAkB3K,IAAlB,CAAf;AACD,aAFD,EAEG,UAAUA,IAAV,EAAgB8K,SAAhB,EAA2B;AAC5BN,cAAAA,KAAK,CAACM,SAAN,GAAkBA,SAAlB;AACAtJ,cAAAA,MAAM,CAACxB,IAAD,CAAN;AACD,aALD;AAMD;;AACD0K,UAAAA,KAAK;AACN,SAlBD;AAmBD;AAzBA,KAhYe,EA0Zf;AACDzP,MAAAA,GAAG,EAAE,oBADJ;AAEDe,MAAAA,KAAK,EAAE,SAASiP,kBAAT,CAA4BC,MAA5B,EAAoCzJ,QAApC,EAA8CD,MAA9C,EAAsDkJ,KAAtD,EAA6D;AAClE,YAAIS,MAAM,GAAG,IAAb;;AAEA,aAAK7C,YAAL,CAAkB,UAAUuB,IAAV,EAAgB;AAChC,cAAI5B,cAAc,GAAG4B,IAAI,CAAC7N,KAAL,CAAWtB,MAAhC;AACAwQ,UAAAA,MAAM,CAACxO,OAAP,CAAe,UAAUkL,KAAV,EAAiBwD,OAAjB,EAA0B;AACvC,gBAAIC,qBAAqB,GAAGF,MAAM,CAACnD,qBAAP,CAA6BJ,KAA7B,EAAoCK,cAApC,EAAoD4B,IAAI,CAAC7N,KAAzD,CAA5B;AAAA,gBACIuL,KAAK,GAAG8D,qBAAqB,CAAC9D,KADlC;AAAA,gBAEIlI,GAAG,GAAGgM,qBAAqB,CAAChM,GAFhC;AAAA,gBAGIsI,KAAK,GAAG0D,qBAAqB,CAAC1D,KAHlC;;AAKA,gBAAIA,KAAJ,EAAW;AACTwD,cAAAA,MAAM,CAACvB,yBAAP,CAAiCC,IAAjC,EAAuCtC,KAAvC,EAA8ClI,GAA9C,EAAmD,UAAUW,IAAV,EAAgB;AACjE,uBAAOyB,QAAQ,CAACzB,IAAD,EAAO4H,KAAP,EAAciC,IAAI,CAAC7N,KAAL,CAAWqM,SAAX,CAAqBd,KAArB,EAA4BlI,GAA5B,CAAd,EAAgD+L,OAAhD,CAAf;AACD,eAFD,EAEG,UAAUpL,IAAV,EAAgB;AACjBwB,gBAAAA,MAAM,CAACxB,IAAD,EAAO4H,KAAP,CAAN;AACD,eAJD;AAKD;AACF,WAbD;AAcA8C,UAAAA,KAAK;AACN,SAjBD;AAkBD;AAvBA,KA1Ze,EAkbf;AACDzP,MAAAA,GAAG,EAAE,eADJ;AAEDe,MAAAA,KAAK,EAAE,SAASsP,aAAT,CAAuBtL,IAAvB,EAA6B;AAClC,YAAIuL,MAAM,GAAGvL,IAAI,CAAC6I,UAAlB;AACA,YAAI2C,OAAO,GAAGhP,QAAQ,CAACiP,sBAAT,EAAd;;AACA,eAAOzL,IAAI,CAAC0L,UAAZ,EAAwB;AACtBF,UAAAA,OAAO,CAACG,WAAR,CAAoB3L,IAAI,CAAC4L,WAAL,CAAiB5L,IAAI,CAAC0L,UAAtB,CAApB;AACD;;AACDH,QAAAA,MAAM,CAAC5B,YAAP,CAAoB6B,OAApB,EAA6BxL,IAA7B;;AACA,YAAI,CAAC,KAAK+C,EAAV,EAAc;AACZwI,UAAAA,MAAM,CAACM,SAAP;AACD,SAFD,MAEO;AACL,eAAKC,iBAAL,CAAuBP,MAAvB;AACD;AACF;AAdA,KAlbe,EAicf;AACDtQ,MAAAA,GAAG,EAAE,mBADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS8P,iBAAT,CAA2B9L,IAA3B,EAAiC;AACtC,YAAI,CAACA,IAAL,EAAW;AACT;AACD;;AACD,YAAIA,IAAI,CAAC+L,QAAL,KAAkB,CAAtB,EAAyB;AACvB,iBAAO/L,IAAI,CAACgM,WAAL,IAAoBhM,IAAI,CAACgM,WAAL,CAAiBD,QAAjB,KAA8B,CAAzD,EAA4D;AAC1D/L,YAAAA,IAAI,CAACiM,SAAL,IAAkBjM,IAAI,CAACgM,WAAL,CAAiBC,SAAnC;AACAjM,YAAAA,IAAI,CAAC6I,UAAL,CAAgB+C,WAAhB,CAA4B5L,IAAI,CAACgM,WAAjC;AACD;AACF,SALD,MAKO;AACL,eAAKF,iBAAL,CAAuB9L,IAAI,CAAC0L,UAA5B;AACD;;AACD,aAAKI,iBAAL,CAAuB9L,IAAI,CAACgM,WAA5B;AACD;AAfA,KAjce,EAidf;AACD/Q,MAAAA,GAAG,EAAE,YADJ;AAEDe,MAAAA,KAAK,EAAE,SAASkQ,UAAT,CAAoBC,MAApB,EAA4B5I,GAA5B,EAAiC;AACtC,YAAI6I,MAAM,GAAG,IAAb;;AAEA,aAAK7I,GAAL,GAAWA,GAAX;AACA,aAAKH,GAAL,CAAS,gCAAgC+I,MAAhC,GAAyC,GAAlD;AACA,YAAIE,YAAY,GAAG,CAAnB;AAAA,YACIhK,EAAE,GAAG,aADT;;AAEA,YAAIb,MAAM,GAAG,SAASA,MAAT,CAAgBU,OAAhB,EAAyB;AACpCmK,UAAAA,YAAY;;AACZD,UAAAA,MAAM,CAAC7I,GAAP,CAAWpE,IAAX,CAAgB+C,OAAhB;AACD,SAHD;;AAIA,YAAI,KAAKqB,GAAL,CAAS+I,cAAb,EAA6B;AAC3BjK,UAAAA,EAAE,GAAG,2BAAL;AACD;;AACD,aAAKA,EAAL,EAAS8J,MAAT,EAAiB,KAAK5I,GAAL,CAASkH,YAA1B,EAAwC,UAAU9H,KAAV,EAAiB3C,IAAjB,EAAuB;AAC7D,iBAAOoM,MAAM,CAAC7I,GAAP,CAAW3G,MAAX,CAAkBoD,IAAlB,EAAwB2C,KAAxB,EAA+B0J,YAA/B,CAAP;AACD,SAFD,EAEG7K,MAFH,EAEW,YAAY;AACrB,cAAI6K,YAAY,KAAK,CAArB,EAAwB;AACtBD,YAAAA,MAAM,CAAC7I,GAAP,CAAW8D,OAAX,CAAmB8E,MAAnB;AACD;;AACDC,UAAAA,MAAM,CAAC7I,GAAP,CAAW1E,IAAX,CAAgBwN,YAAhB;AACD,SAPD;AAQD;AAxBA,KAjde,EA0ef;AACDpR,MAAAA,GAAG,EAAE,MADJ;AAEDe,MAAAA,KAAK,EAAE,SAASuQ,IAAT,CAAchG,EAAd,EAAkBhD,GAAlB,EAAuB;AAC5B,YAAIiJ,OAAO,GAAG,IAAd;;AAEA,aAAKjJ,GAAL,GAAWA,GAAX;AACA,YAAI8I,YAAY,GAAG,CAAnB;AAAA,YACIhK,EAAE,GAAG,aADT;;AAGA,YAAIoK,qBAAqB,GAAG,KAAKnG,oBAAL,CAA0B,OAAOC,EAAP,KAAc,QAAd,GAAyB,CAACA,EAAD,CAAzB,GAAgCA,EAA1D,CAA5B;AAAA,YACImG,KAAK,GAAGD,qBAAqB,CAACE,QADlC;AAAA,YAEIC,QAAQ,GAAGH,qBAAqB,CAAC/R,MAFrC;AAAA,YAGIkK,IAAI,GAAG,KAAKrB,GAAL,CAASsB,aAAT,GAAyB,EAAzB,GAA8B,GAHzC;AAAA,YAIIgI,OAAO,GAAG,SAASA,OAAT,CAAiBpG,EAAjB,EAAqB;AACjC,cAAI+D,KAAK,GAAG,IAAItF,MAAJ,CAAWsH,OAAO,CAAC5I,YAAR,CAAqB6C,EAArB,CAAX,EAAqC,OAAO7B,IAA5C,CAAZ;AAAA,cACIpF,OAAO,GAAG,CADd;;AAEAgN,UAAAA,OAAO,CAACpJ,GAAR,CAAY,gCAAgCoH,KAAhC,GAAwC,GAApD;;AACAgC,UAAAA,OAAO,CAACnK,EAAD,CAAP,CAAYmI,KAAZ,EAAmB,CAAnB,EAAsB,UAAUsC,IAAV,EAAgB9M,IAAhB,EAAsB;AAC1C,mBAAOwM,OAAO,CAACjJ,GAAR,CAAY3G,MAAZ,CAAmBoD,IAAnB,EAAyByG,EAAzB,EAA6B4F,YAA7B,EAA2C7M,OAA3C,CAAP;AACD,WAFD,EAEG,UAAU0C,OAAV,EAAmB;AACpB1C,YAAAA,OAAO;AACP6M,YAAAA,YAAY;;AACZG,YAAAA,OAAO,CAACjJ,GAAR,CAAYpE,IAAZ,CAAiB+C,OAAjB;AACD,WAND,EAMG,YAAY;AACb,gBAAI1C,OAAO,KAAK,CAAhB,EAAmB;AACjBgN,cAAAA,OAAO,CAACjJ,GAAR,CAAY8D,OAAZ,CAAoBZ,EAApB;AACD;;AACD,gBAAIiG,KAAK,CAACE,QAAQ,GAAG,CAAZ,CAAL,KAAwBnG,EAA5B,EAAgC;AAC9B+F,cAAAA,OAAO,CAACjJ,GAAR,CAAY1E,IAAZ,CAAiBwN,YAAjB;AACD,aAFD,MAEO;AACLQ,cAAAA,OAAO,CAACH,KAAK,CAACA,KAAK,CAAC3P,OAAN,CAAc0J,EAAd,IAAoB,CAArB,CAAN,CAAP;AACD;AACF,WAfD;AAgBD,SAxBD;;AA0BA,YAAI,KAAKlD,GAAL,CAAS+I,cAAb,EAA6B;AAC3BjK,UAAAA,EAAE,GAAG,2BAAL;AACD;;AACD,YAAIuK,QAAQ,KAAK,CAAjB,EAAoB;AAClB,eAAKrJ,GAAL,CAAS1E,IAAT,CAAcwN,YAAd;AACD,SAFD,MAEO;AACLQ,UAAAA,OAAO,CAACH,KAAK,CAAC,CAAD,CAAN,CAAP;AACD;AACF;AA3CA,KA1ee,EAshBf;AACDzR,MAAAA,GAAG,EAAE,YADJ;AAEDe,MAAAA,KAAK,EAAE,SAAS+Q,UAAT,CAAoBC,SAApB,EAA+BzJ,GAA/B,EAAoC;AACzC,YAAI0J,OAAO,GAAG,IAAd;;AAEA,aAAK1J,GAAL,GAAWA,GAAX;AACA,YAAI8I,YAAY,GAAG,CAAnB;AAAA,YACInB,MAAM,GAAG,KAAKhE,WAAL,CAAiB8F,SAAjB,CADb;;AAEA,YAAI9B,MAAM,IAAIA,MAAM,CAACxQ,MAArB,EAA6B;AAC3B,eAAK0I,GAAL,CAAS,iDAAiD0E,IAAI,CAACC,SAAL,CAAemD,MAAf,CAA1D;AACA,eAAKD,kBAAL,CAAwBC,MAAxB,EAAgC,UAAUlL,IAAV,EAAgB4H,KAAhB,EAAuBjF,KAAvB,EAA8ByI,OAA9B,EAAuC;AACrE,mBAAO6B,OAAO,CAAC1J,GAAR,CAAY3G,MAAZ,CAAmBoD,IAAnB,EAAyB4H,KAAzB,EAAgCjF,KAAhC,EAAuCyI,OAAvC,CAAP;AACD,WAFD,EAEG,UAAUlJ,OAAV,EAAmB0F,KAAnB,EAA0B;AAC3ByE,YAAAA,YAAY;;AACZY,YAAAA,OAAO,CAAC1J,GAAR,CAAYpE,IAAZ,CAAiB+C,OAAjB,EAA0B0F,KAA1B;AACD,WALD,EAKG,YAAY;AACbqF,YAAAA,OAAO,CAAC1J,GAAR,CAAY1E,IAAZ,CAAiBwN,YAAjB;AACD,WAPD;AAQD,SAVD,MAUO;AACL,eAAK9I,GAAL,CAAS1E,IAAT,CAAcwN,YAAd;AACD;AACF;AArBA,KAthBe,EA4iBf;AACDpR,MAAAA,GAAG,EAAE,QADJ;AAEDe,MAAAA,KAAK,EAAE,SAASkR,MAAT,CAAgB3J,GAAhB,EAAqB;AAC1B,YAAI4J,OAAO,GAAG,IAAd;;AAEA,aAAK5J,GAAL,GAAWA,GAAX;AACA,YAAIV,GAAG,GAAG,KAAKU,GAAL,CAASrB,OAAT,GAAmB,KAAKqB,GAAL,CAASrB,OAA5B,GAAsC,GAAhD;AACAW,QAAAA,GAAG,IAAI,eAAP;;AACA,YAAI,KAAKU,GAAL,CAASmG,SAAb,EAAwB;AACtB7G,UAAAA,GAAG,IAAI,MAAM,KAAKU,GAAL,CAASmG,SAAtB;AACD;;AACD,aAAKtG,GAAL,CAAS,uBAAuBP,GAAvB,GAA6B,GAAtC;AACA,aAAKhJ,QAAL,CAAcyH,WAAd,CAA0BmH,UAAU,CAAC2E,YAArC,EAAmD,UAAUpN,IAAV,EAAgB;AACjEmN,UAAAA,OAAO,CAAC7B,aAAR,CAAsBtL,IAAtB;AACD,SAFD,EAEG,UAAUA,IAAV,EAAgB;AACjB,cAAIqN,UAAU,GAAG3R,WAAW,CAAC8D,OAAZ,CAAoBQ,IAApB,EAA0B6C,GAA1B,CAAjB;AAAA,cACI+F,cAAc,GAAGuE,OAAO,CAACvE,cAAR,CAAuB5I,IAAvB,CADrB;;AAEA,cAAI,CAACqN,UAAD,IAAezE,cAAnB,EAAmC;AACjC,mBAAOH,UAAU,CAACK,aAAlB;AACD,WAFD,MAEO;AACL,mBAAOL,UAAU,CAACM,aAAlB;AACD;AACF,SAVD,EAUG,KAAKxF,GAAL,CAAS1E,IAVZ;AAWD;AAvBA,KA5iBe,EAokBf;AACD5D,MAAAA,GAAG,EAAE,KADJ;AAEDqS,MAAAA,GAAG,EAAE,SAASC,MAAT,CAAgBtM,GAAhB,EAAqB;AACxB,aAAKuM,IAAL,GAAYpS,QAAQ,CAAC,EAAD,EAAK;AACvB,qBAAW,EADY;AAEvB,uBAAa,EAFU;AAGvB,qBAAW,EAHY;AAIvB,qBAAW,KAJY;AAKvB,4BAAkB,IALK;AAMvB,gCAAsB,IANC;AAOvB,wBAAc,IAPS;AAQvB,sBAAY,EARW;AASvB,sBAAY,WATW;AAUvB,4BAAkB,KAVK;AAWvB,2BAAiB,KAXM;AAYvB,2BAAiB,KAZM;AAavB,0BAAgB,CAbO;AAcvB,+BAAqB,EAdE;AAevB,uBAAa,UAfU;AAgBvB,kBAAQ,SAAS+D,IAAT,GAAgB,CAAE,CAhBH;AAiBvB,qBAAW,SAASkI,OAAT,GAAmB,CAAE,CAjBT;AAkBvB,oBAAU,SAASzK,MAAT,GAAkB;AAC1B,mBAAO,IAAP;AACD,WApBsB;AAqBvB,kBAAQ,SAASiC,IAAT,GAAgB,CAAE,CArBH;AAsBvB,mBAAS,KAtBc;AAuBvB,iBAAOoE,MAAM,CAACwK;AAvBS,SAAL,EAwBjBxM,GAxBiB,CAApB;AAyBD,OA5BA;AA6BDyM,MAAAA,GAAG,EAAE,SAASC,MAAT,GAAkB;AACrB,eAAO,KAAKH,IAAZ;AACD;AA/BA,KApkBe,EAomBf;AACDvS,MAAAA,GAAG,EAAE,UADJ;AAEDyS,MAAAA,GAAG,EAAE,SAASC,MAAT,GAAkB;AACrB,eAAO,IAAIjS,WAAJ,CAAgB,KAAKC,GAArB,EAA0B,KAAK4H,GAAL,CAAS3H,OAAnC,EAA4C,KAAK2H,GAAL,CAASzH,OAArD,EAA8D,KAAKyH,GAAL,CAASxH,cAAvE,CAAP;AACD;AAJA,KApmBe,CAAP,CAAX;AA0mBA,WAAOrC,IAAP;AACD,GAvnBY,EAAb;;AAynBA,WAASA,IAAT,CAAciC,GAAd,EAAmB;AACjB,QAAIuC,KAAK,GAAG,IAAZ;;AAEA,QAAIhE,QAAQ,GAAG,IAAI4I,MAAJ,CAAWnH,GAAX,CAAf;;AACA,SAAK4Q,IAAL,GAAY,UAAUhG,EAAV,EAAchD,GAAd,EAAmB;AAC7BrJ,MAAAA,QAAQ,CAACqS,IAAT,CAAchG,EAAd,EAAkBhD,GAAlB;AACA,aAAOrF,KAAP;AACD,KAHD;;AAIA,SAAKgO,UAAL,GAAkB,UAAU3F,EAAV,EAAchD,GAAd,EAAmB;AACnCrJ,MAAAA,QAAQ,CAACgS,UAAT,CAAoB3F,EAApB,EAAwBhD,GAAxB;AACA,aAAOrF,KAAP;AACD,KAHD;;AAIA,SAAK6O,UAAL,GAAkB,UAAUxG,EAAV,EAAchD,GAAd,EAAmB;AACnCrJ,MAAAA,QAAQ,CAAC6S,UAAT,CAAoBxG,EAApB,EAAwBhD,GAAxB;AACA,aAAOrF,KAAP;AACD,KAHD;;AAIA,SAAKgP,MAAL,GAAc,UAAU3J,GAAV,EAAe;AAC3BrJ,MAAAA,QAAQ,CAACgT,MAAT,CAAgB3J,GAAhB;AACA,aAAOrF,KAAP;AACD,KAHD;;AAIA,WAAO,IAAP;AACD;;AAED,SAAOxE,IAAP;AAEC,CApiCA,CAAD","sourcesContent":["/*!***************************************************\n* mark.js v8.11.1\n* https://markjs.io/\n* Copyright (c) 2014–2018, Julian Kühnel\n* Released under the MIT license https://git.io/vwTVl\n*****************************************************/\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Mark = factory());\n}(this, (function () { 'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar DOMIterator = function () {\n  function DOMIterator(ctx) {\n    var iframes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var exclude = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var iframesTimeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5000;\n    classCallCheck(this, DOMIterator);\n\n    this.ctx = ctx;\n    this.iframes = iframes;\n    this.exclude = exclude;\n    this.iframesTimeout = iframesTimeout;\n  }\n\n  createClass(DOMIterator, [{\n    key: 'getContexts',\n    value: function getContexts() {\n      var ctx = void 0,\n          filteredCtx = [];\n      if (typeof this.ctx === 'undefined' || !this.ctx) {\n        ctx = [];\n      } else if (NodeList.prototype.isPrototypeOf(this.ctx)) {\n        ctx = Array.prototype.slice.call(this.ctx);\n      } else if (Array.isArray(this.ctx)) {\n        ctx = this.ctx;\n      } else if (typeof this.ctx === 'string') {\n        ctx = Array.prototype.slice.call(document.querySelectorAll(this.ctx));\n      } else {\n        ctx = [this.ctx];\n      }\n      ctx.forEach(function (ctx) {\n        var isDescendant = filteredCtx.filter(function (contexts) {\n          return contexts.contains(ctx);\n        }).length > 0;\n        if (filteredCtx.indexOf(ctx) === -1 && !isDescendant) {\n          filteredCtx.push(ctx);\n        }\n      });\n      return filteredCtx;\n    }\n  }, {\n    key: 'getIframeContents',\n    value: function getIframeContents(ifr, successFn) {\n      var errorFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n      var doc = void 0;\n      try {\n        var ifrWin = ifr.contentWindow;\n        doc = ifrWin.document;\n        if (!ifrWin || !doc) {\n          throw new Error('iframe inaccessible');\n        }\n      } catch (e) {\n        errorFn();\n      }\n      if (doc) {\n        successFn(doc);\n      }\n    }\n  }, {\n    key: 'isIframeBlank',\n    value: function isIframeBlank(ifr) {\n      var bl = 'about:blank',\n          src = ifr.getAttribute('src').trim(),\n          href = ifr.contentWindow.location.href;\n      return href === bl && src !== bl && src;\n    }\n  }, {\n    key: 'observeIframeLoad',\n    value: function observeIframeLoad(ifr, successFn, errorFn) {\n      var _this = this;\n\n      var called = false,\n          tout = null;\n      var listener = function listener() {\n        if (called) {\n          return;\n        }\n        called = true;\n        clearTimeout(tout);\n        try {\n          if (!_this.isIframeBlank(ifr)) {\n            ifr.removeEventListener('load', listener);\n            _this.getIframeContents(ifr, successFn, errorFn);\n          }\n        } catch (e) {\n          errorFn();\n        }\n      };\n      ifr.addEventListener('load', listener);\n      tout = setTimeout(listener, this.iframesTimeout);\n    }\n  }, {\n    key: 'onIframeReady',\n    value: function onIframeReady(ifr, successFn, errorFn) {\n      try {\n        if (ifr.contentWindow.document.readyState === 'complete') {\n          if (this.isIframeBlank(ifr)) {\n            this.observeIframeLoad(ifr, successFn, errorFn);\n          } else {\n            this.getIframeContents(ifr, successFn, errorFn);\n          }\n        } else {\n          this.observeIframeLoad(ifr, successFn, errorFn);\n        }\n      } catch (e) {\n        errorFn();\n      }\n    }\n  }, {\n    key: 'waitForIframes',\n    value: function waitForIframes(ctx, done) {\n      var _this2 = this;\n\n      var eachCalled = 0;\n      this.forEachIframe(ctx, function () {\n        return true;\n      }, function (ifr) {\n        eachCalled++;\n        _this2.waitForIframes(ifr.querySelector('html'), function () {\n          if (! --eachCalled) {\n            done();\n          }\n        });\n      }, function (handled) {\n        if (!handled) {\n          done();\n        }\n      });\n    }\n  }, {\n    key: 'forEachIframe',\n    value: function forEachIframe(ctx, filter, each) {\n      var _this3 = this;\n\n      var end = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n\n      var ifr = ctx.querySelectorAll('iframe'),\n          open = ifr.length,\n          handled = 0;\n      ifr = Array.prototype.slice.call(ifr);\n      var checkEnd = function checkEnd() {\n        if (--open <= 0) {\n          end(handled);\n        }\n      };\n      if (!open) {\n        checkEnd();\n      }\n      ifr.forEach(function (ifr) {\n        if (DOMIterator.matches(ifr, _this3.exclude)) {\n          checkEnd();\n        } else {\n          _this3.onIframeReady(ifr, function (con) {\n            if (filter(ifr)) {\n              handled++;\n              each(con);\n            }\n            checkEnd();\n          }, checkEnd);\n        }\n      });\n    }\n  }, {\n    key: 'createIterator',\n    value: function createIterator(ctx, whatToShow, filter) {\n      return document.createNodeIterator(ctx, whatToShow, filter, false);\n    }\n  }, {\n    key: 'createInstanceOnIframe',\n    value: function createInstanceOnIframe(contents) {\n      return new DOMIterator(contents.querySelector('html'), this.iframes);\n    }\n  }, {\n    key: 'compareNodeIframe',\n    value: function compareNodeIframe(node, prevNode, ifr) {\n      var compCurr = node.compareDocumentPosition(ifr),\n          prev = Node.DOCUMENT_POSITION_PRECEDING;\n      if (compCurr & prev) {\n        if (prevNode !== null) {\n          var compPrev = prevNode.compareDocumentPosition(ifr),\n              after = Node.DOCUMENT_POSITION_FOLLOWING;\n          if (compPrev & after) {\n            return true;\n          }\n        } else {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'getIteratorNode',\n    value: function getIteratorNode(itr) {\n      var prevNode = itr.previousNode();\n      var node = void 0;\n      if (prevNode === null) {\n        node = itr.nextNode();\n      } else {\n        node = itr.nextNode() && itr.nextNode();\n      }\n      return {\n        prevNode: prevNode,\n        node: node\n      };\n    }\n  }, {\n    key: 'checkIframeFilter',\n    value: function checkIframeFilter(node, prevNode, currIfr, ifr) {\n      var key = false,\n          handled = false;\n      ifr.forEach(function (ifrDict, i) {\n        if (ifrDict.val === currIfr) {\n          key = i;\n          handled = ifrDict.handled;\n        }\n      });\n      if (this.compareNodeIframe(node, prevNode, currIfr)) {\n        if (key === false && !handled) {\n          ifr.push({\n            val: currIfr,\n            handled: true\n          });\n        } else if (key !== false && !handled) {\n          ifr[key].handled = true;\n        }\n        return true;\n      }\n      if (key === false) {\n        ifr.push({\n          val: currIfr,\n          handled: false\n        });\n      }\n      return false;\n    }\n  }, {\n    key: 'handleOpenIframes',\n    value: function handleOpenIframes(ifr, whatToShow, eCb, fCb) {\n      var _this4 = this;\n\n      ifr.forEach(function (ifrDict) {\n        if (!ifrDict.handled) {\n          _this4.getIframeContents(ifrDict.val, function (con) {\n            _this4.createInstanceOnIframe(con).forEachNode(whatToShow, eCb, fCb);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'iterateThroughNodes',\n    value: function iterateThroughNodes(whatToShow, ctx, eachCb, filterCb, doneCb) {\n      var _this5 = this;\n\n      var itr = this.createIterator(ctx, whatToShow, filterCb);\n      var ifr = [],\n          elements = [],\n          node = void 0,\n          prevNode = void 0,\n          retrieveNodes = function retrieveNodes() {\n        var _getIteratorNode = _this5.getIteratorNode(itr);\n\n        prevNode = _getIteratorNode.prevNode;\n        node = _getIteratorNode.node;\n\n        return node;\n      };\n      while (retrieveNodes()) {\n        if (this.iframes) {\n          this.forEachIframe(ctx, function (currIfr) {\n            return _this5.checkIframeFilter(node, prevNode, currIfr, ifr);\n          }, function (con) {\n            _this5.createInstanceOnIframe(con).forEachNode(whatToShow, function (ifrNode) {\n              return elements.push(ifrNode);\n            }, filterCb);\n          });\n        }\n        elements.push(node);\n      }\n      elements.forEach(function (node) {\n        eachCb(node);\n      });\n      if (this.iframes) {\n        this.handleOpenIframes(ifr, whatToShow, eachCb, filterCb);\n      }\n      doneCb();\n    }\n  }, {\n    key: 'forEachNode',\n    value: function forEachNode(whatToShow, each, filter) {\n      var _this6 = this;\n\n      var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n\n      var contexts = this.getContexts();\n      var open = contexts.length;\n      if (!open) {\n        done();\n      }\n      contexts.forEach(function (ctx) {\n        var ready = function ready() {\n          _this6.iterateThroughNodes(whatToShow, ctx, each, filter, function () {\n            if (--open <= 0) {\n              done();\n            }\n          });\n        };\n        if (_this6.iframes) {\n          _this6.waitForIframes(ctx, ready);\n        } else {\n          ready();\n        }\n      });\n    }\n  }], [{\n    key: 'matches',\n    value: function matches(element, selector) {\n      var selectors = typeof selector === 'string' ? [selector] : selector,\n          fn = element.matches || element.matchesSelector || element.msMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.webkitMatchesSelector;\n      if (fn) {\n        var match = false;\n        selectors.every(function (sel) {\n          if (fn.call(element, sel)) {\n            match = true;\n            return false;\n          }\n          return true;\n        });\n        return match;\n      } else {\n        return false;\n      }\n    }\n  }]);\n  return DOMIterator;\n}();\n\nvar Mark$1 = function () {\n  function Mark(ctx) {\n    classCallCheck(this, Mark);\n\n    this.ctx = ctx;\n    this.ie = false;\n    var ua = window.navigator.userAgent;\n    if (ua.indexOf('MSIE') > -1 || ua.indexOf('Trident') > -1) {\n      this.ie = true;\n    }\n  }\n\n  createClass(Mark, [{\n    key: 'log',\n    value: function log(msg) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'debug';\n\n      var log = this.opt.log;\n      if (!this.opt.debug) {\n        return;\n      }\n      if ((typeof log === 'undefined' ? 'undefined' : _typeof(log)) === 'object' && typeof log[level] === 'function') {\n        log[level]('mark.js: ' + msg);\n      }\n    }\n  }, {\n    key: 'escapeStr',\n    value: function escapeStr(str) {\n      return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n    }\n  }, {\n    key: 'createRegExp',\n    value: function createRegExp(str) {\n      if (this.opt.wildcards !== 'disabled') {\n        str = this.setupWildcardsRegExp(str);\n      }\n      str = this.escapeStr(str);\n      if (Object.keys(this.opt.synonyms).length) {\n        str = this.createSynonymsRegExp(str);\n      }\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.setupIgnoreJoinersRegExp(str);\n      }\n      if (this.opt.diacritics) {\n        str = this.createDiacriticsRegExp(str);\n      }\n      str = this.createMergedBlanksRegExp(str);\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.createJoinersRegExp(str);\n      }\n      if (this.opt.wildcards !== 'disabled') {\n        str = this.createWildcardsRegExp(str);\n      }\n      str = this.createAccuracyRegExp(str);\n      return str;\n    }\n  }, {\n    key: 'createSynonymsRegExp',\n    value: function createSynonymsRegExp(str) {\n      var syn = this.opt.synonyms,\n          sens = this.opt.caseSensitive ? '' : 'i',\n          joinerPlaceholder = this.opt.ignoreJoiners || this.opt.ignorePunctuation.length ? '\\0' : '';\n      for (var index in syn) {\n        if (syn.hasOwnProperty(index)) {\n          var value = syn[index],\n              k1 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(index) : this.escapeStr(index),\n              k2 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(value) : this.escapeStr(value);\n          if (k1 !== '' && k2 !== '') {\n            str = str.replace(new RegExp('(' + this.escapeStr(k1) + '|' + this.escapeStr(k2) + ')', 'gm' + sens), joinerPlaceholder + ('(' + this.processSynomyms(k1) + '|') + (this.processSynomyms(k2) + ')') + joinerPlaceholder);\n          }\n        }\n      }\n      return str;\n    }\n  }, {\n    key: 'processSynomyms',\n    value: function processSynomyms(str) {\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.setupIgnoreJoinersRegExp(str);\n      }\n      return str;\n    }\n  }, {\n    key: 'setupWildcardsRegExp',\n    value: function setupWildcardsRegExp(str) {\n      str = str.replace(/(?:\\\\)*\\?/g, function (val) {\n        return val.charAt(0) === '\\\\' ? '?' : '\\x01';\n      });\n      return str.replace(/(?:\\\\)*\\*/g, function (val) {\n        return val.charAt(0) === '\\\\' ? '*' : '\\x02';\n      });\n    }\n  }, {\n    key: 'createWildcardsRegExp',\n    value: function createWildcardsRegExp(str) {\n      var spaces = this.opt.wildcards === 'withSpaces';\n      return str.replace(/\\u0001/g, spaces ? '[\\\\S\\\\s]?' : '\\\\S?').replace(/\\u0002/g, spaces ? '[\\\\S\\\\s]*?' : '\\\\S*');\n    }\n  }, {\n    key: 'setupIgnoreJoinersRegExp',\n    value: function setupIgnoreJoinersRegExp(str) {\n      return str.replace(/[^(|)\\\\]/g, function (val, indx, original) {\n        var nextChar = original.charAt(indx + 1);\n        if (/[(|)\\\\]/.test(nextChar) || nextChar === '') {\n          return val;\n        } else {\n          return val + '\\0';\n        }\n      });\n    }\n  }, {\n    key: 'createJoinersRegExp',\n    value: function createJoinersRegExp(str) {\n      var joiner = [];\n      var ignorePunctuation = this.opt.ignorePunctuation;\n      if (Array.isArray(ignorePunctuation) && ignorePunctuation.length) {\n        joiner.push(this.escapeStr(ignorePunctuation.join('')));\n      }\n      if (this.opt.ignoreJoiners) {\n        joiner.push('\\\\u00ad\\\\u200b\\\\u200c\\\\u200d');\n      }\n      return joiner.length ? str.split(/\\u0000+/).join('[' + joiner.join('') + ']*') : str;\n    }\n  }, {\n    key: 'createDiacriticsRegExp',\n    value: function createDiacriticsRegExp(str) {\n      var sens = this.opt.caseSensitive ? '' : 'i',\n          dct = this.opt.caseSensitive ? ['aàáảãạăằắẳẵặâầấẩẫậäåāą', 'AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćč', 'CÇĆČ', 'dđď', 'DĐĎ', 'eèéẻẽẹêềếểễệëěēę', 'EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïī', 'IÌÍỈĨỊÎÏĪ', 'lł', 'LŁ', 'nñňń', 'NÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøō', 'OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rř', 'RŘ', 'sšśșş', 'SŠŚȘŞ', 'tťțţ', 'TŤȚŢ', 'uùúủũụưừứửữựûüůū', 'UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿ', 'YÝỲỶỸỴŸ', 'zžżź', 'ZŽŻŹ'] : ['aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćčCÇĆČ', 'dđďDĐĎ', 'eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïīIÌÍỈĨỊÎÏĪ', 'lłLŁ', 'nñňńNÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rřRŘ', 'sšśșşSŠŚȘŞ', 'tťțţTŤȚŢ', 'uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿYÝỲỶỸỴŸ', 'zžżźZŽŻŹ'];\n      var handled = [];\n      str.split('').forEach(function (ch) {\n        dct.every(function (dct) {\n          if (dct.indexOf(ch) !== -1) {\n            if (handled.indexOf(dct) > -1) {\n              return false;\n            }\n            str = str.replace(new RegExp('[' + dct + ']', 'gm' + sens), '[' + dct + ']');\n            handled.push(dct);\n          }\n          return true;\n        });\n      });\n      return str;\n    }\n  }, {\n    key: 'createMergedBlanksRegExp',\n    value: function createMergedBlanksRegExp(str) {\n      return str.replace(/[\\s]+/gmi, '[\\\\s]+');\n    }\n  }, {\n    key: 'createAccuracyRegExp',\n    value: function createAccuracyRegExp(str) {\n      var _this = this;\n\n      var chars = '!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~¡¿';\n      var acc = this.opt.accuracy,\n          val = typeof acc === 'string' ? acc : acc.value,\n          ls = typeof acc === 'string' ? [] : acc.limiters,\n          lsJoin = '';\n      ls.forEach(function (limiter) {\n        lsJoin += '|' + _this.escapeStr(limiter);\n      });\n      switch (val) {\n        case 'partially':\n        default:\n          return '()(' + str + ')';\n        case 'complementary':\n          lsJoin = '\\\\s' + (lsJoin ? lsJoin : this.escapeStr(chars));\n          return '()([^' + lsJoin + ']*' + str + '[^' + lsJoin + ']*)';\n        case 'exactly':\n          return '(^|\\\\s' + lsJoin + ')(' + str + ')(?=$|\\\\s' + lsJoin + ')';\n      }\n    }\n  }, {\n    key: 'getSeparatedKeywords',\n    value: function getSeparatedKeywords(sv) {\n      var _this2 = this;\n\n      var stack = [];\n      sv.forEach(function (kw) {\n        if (!_this2.opt.separateWordSearch) {\n          if (kw.trim() && stack.indexOf(kw) === -1) {\n            stack.push(kw);\n          }\n        } else {\n          kw.split(' ').forEach(function (kwSplitted) {\n            if (kwSplitted.trim() && stack.indexOf(kwSplitted) === -1) {\n              stack.push(kwSplitted);\n            }\n          });\n        }\n      });\n      return {\n        'keywords': stack.sort(function (a, b) {\n          return b.length - a.length;\n        }),\n        'length': stack.length\n      };\n    }\n  }, {\n    key: 'isNumeric',\n    value: function isNumeric(value) {\n      return Number(parseFloat(value)) == value;\n    }\n  }, {\n    key: 'checkRanges',\n    value: function checkRanges(array) {\n      var _this3 = this;\n\n      if (!Array.isArray(array) || Object.prototype.toString.call(array[0]) !== '[object Object]') {\n        this.log('markRanges() will only accept an array of objects');\n        this.opt.noMatch(array);\n        return [];\n      }\n      var stack = [];\n      var last = 0;\n      array.sort(function (a, b) {\n        return a.start - b.start;\n      }).forEach(function (item) {\n        var _callNoMatchOnInvalid = _this3.callNoMatchOnInvalidRanges(item, last),\n            start = _callNoMatchOnInvalid.start,\n            end = _callNoMatchOnInvalid.end,\n            valid = _callNoMatchOnInvalid.valid;\n\n        if (valid) {\n          item.start = start;\n          item.length = end - start;\n          stack.push(item);\n          last = end;\n        }\n      });\n      return stack;\n    }\n  }, {\n    key: 'callNoMatchOnInvalidRanges',\n    value: function callNoMatchOnInvalidRanges(range, last) {\n      var start = void 0,\n          end = void 0,\n          valid = false;\n      if (range && typeof range.start !== 'undefined') {\n        start = parseInt(range.start, 10);\n        end = start + parseInt(range.length, 10);\n        if (this.isNumeric(range.start) && this.isNumeric(range.length) && end - last > 0 && end - start > 0) {\n          valid = true;\n        } else {\n          this.log('Ignoring invalid or overlapping range: ' + ('' + JSON.stringify(range)));\n          this.opt.noMatch(range);\n        }\n      } else {\n        this.log('Ignoring invalid range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      }\n      return {\n        start: start,\n        end: end,\n        valid: valid\n      };\n    }\n  }, {\n    key: 'checkWhitespaceRanges',\n    value: function checkWhitespaceRanges(range, originalLength, string) {\n      var end = void 0,\n          valid = true,\n          max = string.length,\n          offset = originalLength - max,\n          start = parseInt(range.start, 10) - offset;\n      start = start > max ? max : start;\n      end = start + parseInt(range.length, 10);\n      if (end > max) {\n        end = max;\n        this.log('End range automatically set to the max value of ' + max);\n      }\n      if (start < 0 || end - start < 0 || start > max || end > max) {\n        valid = false;\n        this.log('Invalid range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      } else if (string.substring(start, end).replace(/\\s+/g, '') === '') {\n        valid = false;\n        this.log('Skipping whitespace only range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      }\n      return {\n        start: start,\n        end: end,\n        valid: valid\n      };\n    }\n  }, {\n    key: 'getTextNodes',\n    value: function getTextNodes(cb) {\n      var _this4 = this;\n\n      var val = '',\n          nodes = [];\n      this.iterator.forEachNode(NodeFilter.SHOW_TEXT, function (node) {\n        nodes.push({\n          start: val.length,\n          end: (val += node.textContent).length,\n          node: node\n        });\n      }, function (node) {\n        if (_this4.matchesExclude(node.parentNode)) {\n          return NodeFilter.FILTER_REJECT;\n        } else {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, function () {\n        cb({\n          value: val,\n          nodes: nodes\n        });\n      });\n    }\n  }, {\n    key: 'matchesExclude',\n    value: function matchesExclude(el) {\n      return DOMIterator.matches(el, this.opt.exclude.concat(['script', 'style', 'title', 'head', 'html']));\n    }\n  }, {\n    key: 'wrapRangeInTextNode',\n    value: function wrapRangeInTextNode(node, start, end) {\n      var hEl = !this.opt.element ? 'mark' : this.opt.element,\n          startNode = node.splitText(start),\n          ret = startNode.splitText(end - start);\n      var repl = document.createElement(hEl);\n      repl.setAttribute('data-markjs', 'true');\n      if (this.opt.className) {\n        repl.setAttribute('class', this.opt.className);\n      }\n      repl.textContent = startNode.textContent;\n      startNode.parentNode.replaceChild(repl, startNode);\n      return ret;\n    }\n  }, {\n    key: 'wrapRangeInMappedTextNode',\n    value: function wrapRangeInMappedTextNode(dict, start, end, filterCb, eachCb) {\n      var _this5 = this;\n\n      dict.nodes.every(function (n, i) {\n        var sibl = dict.nodes[i + 1];\n        if (typeof sibl === 'undefined' || sibl.start > start) {\n          if (!filterCb(n.node)) {\n            return false;\n          }\n          var s = start - n.start,\n              e = (end > n.end ? n.end : end) - n.start,\n              startStr = dict.value.substr(0, n.start),\n              endStr = dict.value.substr(e + n.start);\n          n.node = _this5.wrapRangeInTextNode(n.node, s, e);\n          dict.value = startStr + endStr;\n          dict.nodes.forEach(function (k, j) {\n            if (j >= i) {\n              if (dict.nodes[j].start > 0 && j !== i) {\n                dict.nodes[j].start -= e;\n              }\n              dict.nodes[j].end -= e;\n            }\n          });\n          end -= e;\n          eachCb(n.node.previousSibling, n.start);\n          if (end > n.end) {\n            start = n.end;\n          } else {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  }, {\n    key: 'wrapMatches',\n    value: function wrapMatches(regex, ignoreGroups, filterCb, eachCb, endCb) {\n      var _this6 = this;\n\n      var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n      this.getTextNodes(function (dict) {\n        dict.nodes.forEach(function (node) {\n          node = node.node;\n          var match = void 0;\n          while ((match = regex.exec(node.textContent)) !== null && match[matchIdx] !== '') {\n            if (!filterCb(match[matchIdx], node)) {\n              continue;\n            }\n            var pos = match.index;\n            if (matchIdx !== 0) {\n              for (var i = 1; i < matchIdx; i++) {\n                pos += match[i].length;\n              }\n            }\n            node = _this6.wrapRangeInTextNode(node, pos, pos + match[matchIdx].length);\n            eachCb(node.previousSibling);\n            regex.lastIndex = 0;\n          }\n        });\n        endCb();\n      });\n    }\n  }, {\n    key: 'wrapMatchesAcrossElements',\n    value: function wrapMatchesAcrossElements(regex, ignoreGroups, filterCb, eachCb, endCb) {\n      var _this7 = this;\n\n      var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n      this.getTextNodes(function (dict) {\n        var match = void 0;\n        while ((match = regex.exec(dict.value)) !== null && match[matchIdx] !== '') {\n          var start = match.index;\n          if (matchIdx !== 0) {\n            for (var i = 1; i < matchIdx; i++) {\n              start += match[i].length;\n            }\n          }\n          var end = start + match[matchIdx].length;\n          _this7.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n            return filterCb(match[matchIdx], node);\n          }, function (node, lastIndex) {\n            regex.lastIndex = lastIndex;\n            eachCb(node);\n          });\n        }\n        endCb();\n      });\n    }\n  }, {\n    key: 'wrapRangeFromIndex',\n    value: function wrapRangeFromIndex(ranges, filterCb, eachCb, endCb) {\n      var _this8 = this;\n\n      this.getTextNodes(function (dict) {\n        var originalLength = dict.value.length;\n        ranges.forEach(function (range, counter) {\n          var _checkWhitespaceRange = _this8.checkWhitespaceRanges(range, originalLength, dict.value),\n              start = _checkWhitespaceRange.start,\n              end = _checkWhitespaceRange.end,\n              valid = _checkWhitespaceRange.valid;\n\n          if (valid) {\n            _this8.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n              return filterCb(node, range, dict.value.substring(start, end), counter);\n            }, function (node) {\n              eachCb(node, range);\n            });\n          }\n        });\n        endCb();\n      });\n    }\n  }, {\n    key: 'unwrapMatches',\n    value: function unwrapMatches(node) {\n      var parent = node.parentNode;\n      var docFrag = document.createDocumentFragment();\n      while (node.firstChild) {\n        docFrag.appendChild(node.removeChild(node.firstChild));\n      }\n      parent.replaceChild(docFrag, node);\n      if (!this.ie) {\n        parent.normalize();\n      } else {\n        this.normalizeTextNode(parent);\n      }\n    }\n  }, {\n    key: 'normalizeTextNode',\n    value: function normalizeTextNode(node) {\n      if (!node) {\n        return;\n      }\n      if (node.nodeType === 3) {\n        while (node.nextSibling && node.nextSibling.nodeType === 3) {\n          node.nodeValue += node.nextSibling.nodeValue;\n          node.parentNode.removeChild(node.nextSibling);\n        }\n      } else {\n        this.normalizeTextNode(node.firstChild);\n      }\n      this.normalizeTextNode(node.nextSibling);\n    }\n  }, {\n    key: 'markRegExp',\n    value: function markRegExp(regexp, opt) {\n      var _this9 = this;\n\n      this.opt = opt;\n      this.log('Searching with expression \"' + regexp + '\"');\n      var totalMatches = 0,\n          fn = 'wrapMatches';\n      var eachCb = function eachCb(element) {\n        totalMatches++;\n        _this9.opt.each(element);\n      };\n      if (this.opt.acrossElements) {\n        fn = 'wrapMatchesAcrossElements';\n      }\n      this[fn](regexp, this.opt.ignoreGroups, function (match, node) {\n        return _this9.opt.filter(node, match, totalMatches);\n      }, eachCb, function () {\n        if (totalMatches === 0) {\n          _this9.opt.noMatch(regexp);\n        }\n        _this9.opt.done(totalMatches);\n      });\n    }\n  }, {\n    key: 'mark',\n    value: function mark(sv, opt) {\n      var _this10 = this;\n\n      this.opt = opt;\n      var totalMatches = 0,\n          fn = 'wrapMatches';\n\n      var _getSeparatedKeywords = this.getSeparatedKeywords(typeof sv === 'string' ? [sv] : sv),\n          kwArr = _getSeparatedKeywords.keywords,\n          kwArrLen = _getSeparatedKeywords.length,\n          sens = this.opt.caseSensitive ? '' : 'i',\n          handler = function handler(kw) {\n        var regex = new RegExp(_this10.createRegExp(kw), 'gm' + sens),\n            matches = 0;\n        _this10.log('Searching with expression \"' + regex + '\"');\n        _this10[fn](regex, 1, function (term, node) {\n          return _this10.opt.filter(node, kw, totalMatches, matches);\n        }, function (element) {\n          matches++;\n          totalMatches++;\n          _this10.opt.each(element);\n        }, function () {\n          if (matches === 0) {\n            _this10.opt.noMatch(kw);\n          }\n          if (kwArr[kwArrLen - 1] === kw) {\n            _this10.opt.done(totalMatches);\n          } else {\n            handler(kwArr[kwArr.indexOf(kw) + 1]);\n          }\n        });\n      };\n\n      if (this.opt.acrossElements) {\n        fn = 'wrapMatchesAcrossElements';\n      }\n      if (kwArrLen === 0) {\n        this.opt.done(totalMatches);\n      } else {\n        handler(kwArr[0]);\n      }\n    }\n  }, {\n    key: 'markRanges',\n    value: function markRanges(rawRanges, opt) {\n      var _this11 = this;\n\n      this.opt = opt;\n      var totalMatches = 0,\n          ranges = this.checkRanges(rawRanges);\n      if (ranges && ranges.length) {\n        this.log('Starting to mark with the following ranges: ' + JSON.stringify(ranges));\n        this.wrapRangeFromIndex(ranges, function (node, range, match, counter) {\n          return _this11.opt.filter(node, range, match, counter);\n        }, function (element, range) {\n          totalMatches++;\n          _this11.opt.each(element, range);\n        }, function () {\n          _this11.opt.done(totalMatches);\n        });\n      } else {\n        this.opt.done(totalMatches);\n      }\n    }\n  }, {\n    key: 'unmark',\n    value: function unmark(opt) {\n      var _this12 = this;\n\n      this.opt = opt;\n      var sel = this.opt.element ? this.opt.element : '*';\n      sel += '[data-markjs]';\n      if (this.opt.className) {\n        sel += '.' + this.opt.className;\n      }\n      this.log('Removal selector \"' + sel + '\"');\n      this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT, function (node) {\n        _this12.unwrapMatches(node);\n      }, function (node) {\n        var matchesSel = DOMIterator.matches(node, sel),\n            matchesExclude = _this12.matchesExclude(node);\n        if (!matchesSel || matchesExclude) {\n          return NodeFilter.FILTER_REJECT;\n        } else {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, this.opt.done);\n    }\n  }, {\n    key: 'opt',\n    set: function set$$1(val) {\n      this._opt = _extends({}, {\n        'element': '',\n        'className': '',\n        'exclude': [],\n        'iframes': false,\n        'iframesTimeout': 5000,\n        'separateWordSearch': true,\n        'diacritics': true,\n        'synonyms': {},\n        'accuracy': 'partially',\n        'acrossElements': false,\n        'caseSensitive': false,\n        'ignoreJoiners': false,\n        'ignoreGroups': 0,\n        'ignorePunctuation': [],\n        'wildcards': 'disabled',\n        'each': function each() {},\n        'noMatch': function noMatch() {},\n        'filter': function filter() {\n          return true;\n        },\n        'done': function done() {},\n        'debug': false,\n        'log': window.console\n      }, val);\n    },\n    get: function get$$1() {\n      return this._opt;\n    }\n  }, {\n    key: 'iterator',\n    get: function get$$1() {\n      return new DOMIterator(this.ctx, this.opt.iframes, this.opt.exclude, this.opt.iframesTimeout);\n    }\n  }]);\n  return Mark;\n}();\n\nfunction Mark(ctx) {\n  var _this = this;\n\n  var instance = new Mark$1(ctx);\n  this.mark = function (sv, opt) {\n    instance.mark(sv, opt);\n    return _this;\n  };\n  this.markRegExp = function (sv, opt) {\n    instance.markRegExp(sv, opt);\n    return _this;\n  };\n  this.markRanges = function (sv, opt) {\n    instance.markRanges(sv, opt);\n    return _this;\n  };\n  this.unmark = function (opt) {\n    instance.unmark(opt);\n    return _this;\n  };\n  return this;\n}\n\nreturn Mark;\n\n})));\n"]},"metadata":{},"sourceType":"script"}